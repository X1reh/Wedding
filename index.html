<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<title>Arjun & Kavya — A Royal Wedding</title>
<meta name="description" content="You are cordially invited to the royal wedding of Arjun & Kavya — 21st February 2026, Udaipur">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Upright:wght@300;400;500;600&family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;1,300;1,400;1,500&family=Cinzel:wght@400;500;600&family=Montserrat:wght@200;300;400;500&display=swap" rel="stylesheet">

<style>
/* ════════════════════════════════════════════════════════
   DESIGN TOKENS
════════════════════════════════════════════════════════ */
:root {
  --em-900:#064E3B; --em-800:#065F46; --em-700:#047857;
  --em-600:#059669; --em-500:#10B981; --em-400:#34D399;
  --em-200:#A7F3D0; --em-100:#D1FAE5; --em-50:#ECFDF5;

  --gd-900:#78350F; --gd-700:#B45309; --gd-600:#C47006;
  --gd-500:#D97706; --gd-400:#F59E0B; --gd-300:#FCD34D;
  --gd-200:#FDE68A; --gd-100:#FEF3C7;

  --cr-50:#FFFDF7; --cr-100:#FFF9ED; --cr-200:#FFF3D6;
  --cr-300:#FAEAC1; --cr-400:#F0D896;

  --txt-1:#0A1A13; --txt-2:#1C3829; --txt-3:#2D5A40;
  --txt-4:#4A7C5C; --txt-5:#7DAA8E; --txt-6:#B3CDB8;

  --bg:var(--cr-50);
  --border:rgba(6,78,59,.10);
  --border-gd:rgba(245,158,11,.30);
  --shadow-sm:0 1px 3px rgba(6,78,59,.07),0 1px 2px rgba(6,78,59,.04);
  --shadow-md:0 4px 16px rgba(6,78,59,.10),0 2px 6px rgba(6,78,59,.06);
  --shadow-lg:0 12px 40px rgba(6,78,59,.14),0 4px 12px rgba(6,78,59,.08);
  --shadow-xl:0 24px 64px rgba(6,78,59,.18),0 8px 24px rgba(6,78,59,.10);
  --shadow-gd:0 4px 20px rgba(245,158,11,.22);

  --r-sm:8px; --r-md:16px; --r-lg:24px; --r-xl:32px; --r-full:9999px;
  --pad-section:clamp(80px,10vw,128px) clamp(24px,5vw,80px);
  --ease-out:cubic-bezier(0.16,1,0.3,1);
  --ease-spring:cubic-bezier(0.34,1.56,0.64,1);
}

/* ════════════════════════════════════════════════════════
   RESET
════════════════════════════════════════════════════════ */
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box}
html{scroll-behavior:smooth;-webkit-text-size-adjust:100%}
body{font-family:'Montserrat',sans-serif;background:var(--bg);color:var(--txt-2);overflow-x:hidden;-webkit-font-smoothing:antialiased}
body.locked{overflow:hidden}
img{display:block;max-width:100%;height:auto}
a{text-decoration:none;color:inherit}
button{font-family:inherit;cursor:pointer;border:none;background:none}
::-webkit-scrollbar{width:3px}
::-webkit-scrollbar-track{background:var(--cr-100)}
::-webkit-scrollbar-thumb{background:linear-gradient(180deg,var(--em-700),var(--gd-400));border-radius:2px}

/* ════════════════════════════════════════════════════════
   REVEAL SYSTEM
════════════════════════════════════════════════════════ */
.reveal{opacity:0;transform:translateY(36px);transition:opacity .85s var(--ease-out),transform .85s var(--ease-out)}
.reveal.in{opacity:1;transform:translateY(0)}
.reveal-l{opacity:0;transform:translateX(-40px);transition:opacity .85s var(--ease-out),transform .85s var(--ease-out)}
.reveal-l.in{opacity:1;transform:translateX(0)}
.reveal-r{opacity:0;transform:translateX(40px);transition:opacity .85s var(--ease-out),transform .85s var(--ease-out)}
.reveal-r.in{opacity:1;transform:translateX(0)}
.reveal-s{opacity:0;transform:scale(.92);transition:opacity .9s var(--ease-out),transform .9s var(--ease-out)}
.reveal-s.in{opacity:1;transform:scale(1)}
.d1{transition-delay:.1s}.d2{transition-delay:.2s}.d3{transition-delay:.3s}
.d4{transition-delay:.4s}.d5{transition-delay:.5s}.d6{transition-delay:.6s}

/* ════════════════════════════════════════════════════════
   CANVASES
════════════════════════════════════════════════════════ */
#particle-canvas{position:fixed;inset:0;pointer-events:none;z-index:1;opacity:0;transition:opacity 1.5s ease}
#particle-canvas.on{opacity:1}
#confetti-canvas{position:fixed;inset:0;pointer-events:none;z-index:9995;display:none}

/* ════════════════════════════════════════════════════════
   LOADER — FULLY RESPONSIVE
════════════════════════════════════════════════════════ */
#loader {
  position: fixed;
  inset: 0;
  z-index: 9990;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 100dvh;
  /* Safe padding on all sides including notch areas */
  padding-top: max(clamp(20px, 4vh, 56px), env(safe-area-inset-top, 0px));
  padding-bottom: max(clamp(48px, 7vh, 80px), env(safe-area-inset-bottom, 0px));
  padding-left: max(16px, env(safe-area-inset-left, 0px));
  padding-right: max(16px, env(safe-area-inset-right, 0px));
  background:
    radial-gradient(ellipse 80% 60% at 18% 12%,rgba(6,78,59,.09) 0%,transparent 60%),
    radial-gradient(ellipse 60% 70% at 82% 88%,rgba(245,158,11,.07) 0%,transparent 65%),
    linear-gradient(160deg,#FFFDF7 0%,#F0FAF4 45%,#FFFBEA 100%);
  overflow: hidden;
  transition: opacity 1s var(--ease-out), transform 1s var(--ease-out), visibility 1s;
}

#loader.exit {
  opacity: 0;
  transform: scale(1.04);
  visibility: hidden;
  pointer-events: none;
}

/* Grid texture */
#loader::before {
  content: '';
  position: absolute;
  inset: 0;
  pointer-events: none;
  background-image: linear-gradient(rgba(6,78,59,.022) 1px,transparent 1px), linear-gradient(90deg,rgba(6,78,59,.022) 1px,transparent 1px);
  background-size: 52px 52px;
  mask-image: radial-gradient(ellipse 75% 75% at 50% 50%,black 0%,transparent 100%);
  -webkit-mask-image: radial-gradient(ellipse 75% 75% at 50% 50%,black 0%,transparent 100%);
}

/* Gold top bar */
#loader::after {
  content: '';
  position: absolute;
  top: 0; left: 0; right: 0;
  height: 2px;
  background: linear-gradient(90deg,transparent,rgba(245,158,11,.7) 25%,rgba(212,175,55,.95) 50%,rgba(245,158,11,.7) 75%,transparent);
}

.l-bot-bar {
  position: absolute;
  bottom: 0; left: 0; right: 0;
  height: 2px;
  background: linear-gradient(90deg,transparent,rgba(6,78,59,.5) 30%,rgba(6,78,59,.8) 50%,rgba(6,78,59,.5) 70%,transparent);
}

/* Corner ornaments */
.lc { position: absolute; width: 68px; height: 68px; pointer-events: none; z-index: 2; }
.lc svg { width: 100%; height: 100%; }
.lc-tl { top: 18px; left: 18px; }
.lc-tr { top: 18px; right: 18px; transform: scaleX(-1); }
.lc-bl { bottom: 18px; left: 18px; transform: scaleY(-1); }
.lc-br { bottom: 18px; right: 18px; transform: scale(-1,-1); }

/* ── Ring ── */
.l-ring {
  position: relative;
  z-index: 3;
  /* Scales with BOTH vw and vh — never overflows in any orientation */
  width: clamp(130px, min(26vw, 28vh), 215px);
  height: clamp(130px, min(26vw, 28vh), 215px);
  flex-shrink: 0;
  margin-bottom: clamp(12px, 2.5vh, 34px);
  opacity: 0;
  transform: translateY(22px) scale(.88);
  animation: lUp 1.1s var(--ease-out) .15s forwards;
}

.r-halo {
  position: absolute;
  inset: -30px;
  border-radius: 50%;
  background: radial-gradient(circle,rgba(6,78,59,.12) 0%,rgba(245,158,11,.06) 45%,transparent 72%);
  animation: halo 5s ease-in-out infinite alternate;
}
@keyframes halo { to { transform: scale(1.18); opacity: .5; } }

.r-orbit {
  position: absolute;
  inset: -4px;
  border-radius: 50%;
  border: 1px solid transparent;
  background: linear-gradient(var(--bg),var(--bg)) padding-box,
              conic-gradient(from 0deg,rgba(245,158,11,.9) 0%,rgba(212,175,55,.5) 28%,transparent 50%,rgba(6,78,59,.4) 72%,rgba(245,158,11,.7) 100%) border-box;
  animation: rSpin 5.5s linear infinite;
}
@keyframes rSpin { to { transform: rotate(360deg); } }

.r-orbit2 {
  position: absolute;
  inset: 0;
  border-radius: 50%;
  border: 1px solid transparent;
  background: linear-gradient(var(--bg),var(--bg)) padding-box,
              conic-gradient(from 200deg,rgba(6,78,59,.65) 0%,transparent 42%,rgba(245,158,11,.35) 72%,transparent 100%) border-box;
  animation: rSpin2 9s linear infinite;
}
@keyframes rSpin2 { to { transform: rotate(-360deg); } }

.r-mask { position: absolute; inset: 4px; border-radius: 50%; background: var(--bg); }
.r-inner { position: absolute; inset: 9px; border-radius: 50%; border: .5px solid rgba(245,158,11,.2); }
.r-photo { position: absolute; inset: 14px; border-radius: 50%; overflow: hidden; background: var(--em-100); }
.r-photo img { width: 100%; height: 100%; object-fit: cover; filter: brightness(.94) saturate(.85); }
.r-sparks { position: absolute; inset: -58px; border-radius: 50%; pointer-events: none; }

/* ── Loader text ── */
.l-text {
  text-align: center;
  position: relative;
  z-index: 3;
  opacity: 0;
  transform: translateY(18px);
  animation: lUp 1s var(--ease-out) .95s forwards;
}

.l-pre {
  font-family: 'Cinzel', serif;
  font-size: clamp(.52rem, min(1.3vw, 1.6vh), .7rem);
  letter-spacing: clamp(3px, 1.2vw, 9px);
  text-transform: uppercase;
  color: var(--txt-4);
  margin-bottom: clamp(6px, 1.2vh, 14px);
}

.l-names {
  font-family: 'Cormorant Upright', serif;
  font-size: clamp(1.6rem, min(6vw, 7vh), 3.8rem);
  font-weight: 300;
  line-height: 1.1;
  letter-spacing: 3px;
  color: var(--em-800);
  animation: nameBreath 3.5s ease-in-out 2.5s infinite alternate;
}
@keyframes nameBreath { to { color: var(--em-900); letter-spacing: 4.5px; } }

.l-amp {
  font-family: 'Cormorant Garamond', serif;
  font-style: italic;
  font-weight: 300;
  font-size: .5em;
  color: var(--gd-500);
  margin: 0 10px;
  vertical-align: middle;
}

.l-sub {
  font-family: 'Cormorant Garamond', serif;
  font-style: italic;
  font-size: clamp(.68rem, min(1.6vw, 2vh), .94rem);
  color: var(--txt-4);
  letter-spacing: clamp(2px, 1vw, 5px);
  margin-top: clamp(4px, 1vh, 10px);
  font-weight: 300;
}

/* Gold divider */
.l-div {
  display: flex;
  align-items: center;
  gap: 14px;
  margin: clamp(10px, 2vh, 22px) auto;
  width: 0;
  overflow: hidden;
  opacity: 0;
  animation: lDivOpen 1s var(--ease-out) 1.6s forwards;
  position: relative;
  z-index: 3;
}
@keyframes lDivOpen { to { width: 270px; opacity: 1; } }

.l-div-line { flex: 1; height: 1px; background: linear-gradient(90deg,transparent,var(--gd-300),transparent); }
.l-diamond {
  width: 8px; height: 8px; flex-shrink: 0;
  background: linear-gradient(135deg,var(--gd-400),var(--gd-200));
  transform: rotate(45deg); border-radius: 1px;
  box-shadow: 0 0 10px rgba(245,158,11,.5);
}

/* ── CTA ── */
.l-cta {
  position: relative;
  z-index: 3;
  margin-top: clamp(8px, 1.8vh, 26px);
  opacity: 0;
  transform: translateY(12px);
  animation: lUp 1s var(--ease-out) 2.1s forwards;
  flex-shrink: 0;
}

.l-pulse {
  position: absolute;
  inset: -10px;
  border-radius: 60px;
  border: 1px solid rgba(6,78,59,.2);
  animation: lPulse 2.8s ease-in-out infinite;
}
.l-pulse:nth-child(2) { inset: -20px; animation-delay: .8s; border-color: rgba(245,158,11,.12); }
@keyframes lPulse {
  0%,100% { transform: scale(1); opacity: .9; }
  50% { transform: scale(1.06); opacity: .1; }
}

.l-btn {
  position: relative;
  display: flex;
  align-items: center;
  gap: 10px;
  padding: clamp(10px, 1.8vh, 15px) clamp(28px, 5vw, 54px);
  font-family: 'Cinzel', serif;
  font-size: clamp(.58rem, min(1.3vw, 1.8vh), .72rem);
  letter-spacing: clamp(2px, 1vw, 5px);
  text-transform: uppercase;
  color: var(--cr-50);
  background: linear-gradient(135deg,var(--em-800),var(--em-700));
  border-radius: 60px;
  box-shadow: 0 4px 24px rgba(6,78,59,.38), inset 0 1px 0 rgba(255,255,255,.14);
  transition: all .45s var(--ease-out);
  white-space: nowrap;
  overflow: hidden;
}
.l-btn::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(135deg,rgba(245,158,11,.28),transparent 60%);
  border-radius: inherit;
  opacity: 0;
  transition: opacity .4s;
}
.l-btn:hover { box-shadow: 0 6px 36px rgba(6,78,59,.5), inset 0 1px 0 rgba(255,255,255,.2); transform: translateY(-2px); }
.l-btn:hover::before { opacity: 1; }
.l-btn:active { transform: scale(.98); }
.l-btn svg { width: 14px; height: 14px; stroke: currentColor; fill: none; stroke-width: 1.8; flex-shrink: 0; }

/* ── Date ── */
.l-date {
  position: absolute;
  bottom: max(clamp(14px, 2.5vh, 32px), env(safe-area-inset-bottom, 14px));
  left: 50%;
  transform: translateX(-50%);
  font-family: 'Cormorant Garamond', serif;
  font-style: italic;
  font-size: clamp(.58rem, 1.1vw, .7rem);
  letter-spacing: clamp(2px, 1vw, 5px);
  text-transform: uppercase;
  color: var(--txt-5);
  white-space: nowrap;
  z-index: 3;
  opacity: 0;
  animation: lUp .9s ease 2.65s forwards;
}

@keyframes lUp {
  from { opacity: 0; transform: translateY(22px) scale(.93); }
  to   { opacity: 1; transform: translateY(0) scale(1); }
}

/* ════════════════════════════════════════════════════════
   LANDSCAPE PHONES — height < 500px
   Compact horizontal layout: ring beside text
════════════════════════════════════════════════════════ */
@media (max-height: 500px) and (orientation: landscape) {
  #loader {
    flex-direction: row;
    flex-wrap: nowrap;
    justify-content: center;
    align-items: center;
    gap: clamp(12px, 3vw, 32px);
    padding-top: max(10px, env(safe-area-inset-top, 0px));
    padding-bottom: max(10px, env(safe-area-inset-bottom, 0px));
    padding-left: max(clamp(12px, 3vw, 28px), env(safe-area-inset-left, 0px));
    padding-right: max(clamp(12px, 3vw, 28px), env(safe-area-inset-right, 0px));
    overflow-y: auto;
  }

  /* Ring shrinks to fit screen height */
  .l-ring {
    width: clamp(70px, 20vh, 115px);
    height: clamp(70px, 20vh, 115px);
    margin-bottom: 0;
    flex-shrink: 0;
  }

  /* Right column: text + divider + button */
  .l-text   { order: 2; text-align: left; }
  .l-div    { order: 3; margin: 6px 0; justify-content: flex-start; }
  .l-cta    { order: 4; margin-top: 8px; }
  .l-ring   { order: 1; }

  .l-pre { font-size: .48rem; letter-spacing: 3px; margin-bottom: 3px; }
  .l-names { font-size: clamp(1.1rem, 5vh, 1.7rem); letter-spacing: 2px; }
  .l-sub   { font-size: .62rem; letter-spacing: 2px; margin-top: 3px; }

  .l-btn {
    padding: 8px 22px;
    font-size: .54rem;
    letter-spacing: 2px;
  }

  /* Hide pulse rings — save space */
  .l-pulse { display: none; }

  .l-date {
    font-size: .52rem;
    letter-spacing: 2px;
    bottom: max(5px, env(safe-area-inset-bottom, 5px));
  }

  /* Shrink corner ornaments */
  .lc { width: 36px; height: 36px; }
  .lc-tl { top: 8px; left: 8px; }
  .lc-tr { top: 8px; right: 8px; }
  .lc-bl { bottom: 8px; left: 8px; }
  .lc-br { bottom: 8px; right: 8px; }
}

/* ════════════════════════════════════════════════════════
   LANDSCAPE TABLETS — height 500–700px
   Keep column but tighten vertical spacing
════════════════════════════════════════════════════════ */
@media (max-height: 700px) and (min-height: 501px) and (orientation: landscape) {
  #loader {
    padding-top: max(clamp(12px, 2vh, 24px), env(safe-area-inset-top, 0px));
    padding-bottom: max(clamp(40px, 5vh, 60px), env(safe-area-inset-bottom, 0px));
  }

  .l-ring {
    width: clamp(110px, 22vh, 165px);
    height: clamp(110px, 22vh, 165px);
    margin-bottom: clamp(8px, 1.5vh, 20px);
  }

  .l-names { font-size: clamp(1.6rem, min(5vw, 6vh), 2.6rem); }
  .l-div   { margin: clamp(8px, 1.5vh, 16px) auto; }
  .l-cta   { margin-top: clamp(6px, 1.2vh, 16px); }

  .l-date {
    font-size: .62rem;
    bottom: max(clamp(8px, 1.8vh, 18px), env(safe-area-inset-bottom, 8px));
  }

  .lc { width: 48px; height: 48px; }
  .lc-tl { top: 10px; left: 10px; }
  .lc-tr { top: 10px; right: 10px; }
  .lc-bl { bottom: 10px; left: 10px; }
  .lc-br { bottom: 10px; right: 10px; }
}

/* ════════════════════════════════════════════════════════
   VERY SMALL PORTRAIT (≤ 360px wide)
════════════════════════════════════════════════════════ */
@media (max-width: 360px) {
  .l-ring {
    width: clamp(115px, 48vw, 155px);
    height: clamp(115px, 48vw, 155px);
  }
  .l-names { font-size: clamp(1.5rem, 8vw, 2rem); }
  .l-btn   { padding: 10px 24px; letter-spacing: 3px; }
}

/* ════════════════════════════════════════════════════════
   DESKTOP & LARGE TABLETS — generous sizing restored
════════════════════════════════════════════════════════ */
@media (min-width: 768px) and (min-height: 700px) {
  .l-ring {
    width: clamp(170px, 22vw, 215px);
    height: clamp(170px, 22vw, 215px);
    margin-bottom: 34px;
  }
  .l-names { font-size: clamp(2.4rem, 5vw, 3.8rem); }
  .l-cta   { margin-top: 26px; }
  .l-btn   { padding: 15px 54px; }
}


/* ════════════════════════════════════════════════════════
   BOTTOM NAV
════════════════════════════════════════════════════════ */
#bnav {
  position: fixed;
  bottom: clamp(16px,2.5vw,24px);
  left: 50%;
  transform: translateX(-50%) translateY(120px);
  opacity: 0;
  z-index: 800;
  display: flex;
  align-items: center;
  gap: 2px;
  padding: 5px 7px;
  background: rgba(255,253,247,.93);
  backdrop-filter: blur(36px) saturate(180%);
  -webkit-backdrop-filter: blur(36px) saturate(180%);
  border: 1px solid rgba(6,78,59,.13);
  border-radius: 60px;
  box-shadow: var(--shadow-lg), inset 0 1px 0 rgba(255,255,255,.9);
  transition: transform .7s var(--ease-out), opacity .7s var(--ease-out);
  white-space: nowrap;
  max-width: calc(100vw - 28px);
}
#bnav::before { content: ''; position: absolute; top: 0; left: 20px; right: 20px; height: 1px; background: linear-gradient(90deg,transparent,rgba(245,158,11,.55),transparent); border-radius: 1px; }
#bnav.show { transform: translateX(-50%) translateY(0); opacity: 1; }

.np { display: flex; flex-direction: column; align-items: center; gap: 3px; padding: 8px 13px; border-radius: 36px; color: var(--txt-5); text-decoration: none; transition: all .3s var(--ease-out); flex-shrink: 0; }
.np:hover { color: var(--em-700); }
.np.on { background: linear-gradient(135deg,var(--em-800),var(--em-700)); color: var(--cr-100); box-shadow: 0 2px 12px rgba(6,78,59,.38), inset 0 1px 0 rgba(255,255,255,.15); }
.np svg { width: 16px; height: 16px; stroke: currentColor; fill: none; stroke-width: 1.6; stroke-linecap: round; stroke-linejoin: round; display: block; transition: transform .3s var(--ease-spring); }
.np:hover svg { transform: translateY(-2px) scale(1.12); }
.np span { font-size: .42rem; letter-spacing: 1.8px; text-transform: uppercase; line-height: 1; font-family: 'Cinzel', serif; }
.nsep { width: 1px; height: 22px; background: linear-gradient(180deg,transparent,rgba(6,78,59,.12),transparent); margin: 0 3px; flex-shrink: 0; }
.nmusic { display: flex; align-items: center; justify-content: center; width: 34px; height: 34px; border-radius: 50%; flex-shrink: 0; background: linear-gradient(135deg,var(--gd-100),var(--cr-200)); border: 1px solid rgba(245,158,11,.35); color: var(--gd-700); transition: all .3s var(--ease-out); margin-left: 3px; }
.nmusic:hover { box-shadow: var(--shadow-gd); transform: scale(1.1); }
.nmusic.on { background: linear-gradient(135deg,var(--gd-200),var(--gd-100)); border-color: var(--gd-400); }
.nmusic svg { width: 13px; height: 13px; stroke: currentColor; fill: none; stroke-width: 1.6; }

/* ════════════════════════════════════════════════════════
   SECTION HEADER
════════════════════════════════════════════════════════ */
.sec { position: relative; z-index: 2; padding: var(--pad-section); }
.sec-inner { max-width: 1200px; margin: 0 auto; width: 100%; }
.s-head { text-align: center; margin-bottom: clamp(52px,6.5vw,84px); }
.s-label { display: inline-flex; align-items: center; gap: 12px; font-family: 'Cinzel', serif; font-size: clamp(.56rem,1.2vw,.68rem); letter-spacing: 9px; text-transform: uppercase; color: var(--gd-500); margin-bottom: 16px; }
.s-label::before,.s-label::after { content: ''; display: inline-block; width: 28px; height: 1px; background: linear-gradient(90deg,transparent,var(--gd-300)); }
.s-label::after { background: linear-gradient(90deg,var(--gd-300),transparent); }
.s-title { font-family: 'Cormorant Upright', serif; font-size: clamp(2rem,4.5vw,3.6rem); font-weight: 300; color: var(--em-900); letter-spacing: 2px; line-height: 1.15; }
.s-title em { font-style: italic; color: var(--em-700); }
.s-orn { display: flex; align-items: center; justify-content: center; gap: 10px; margin-top: 20px; }
.s-orn-line { width: 60px; height: 1px; background: linear-gradient(90deg,transparent,var(--gd-300)); }
.s-orn-line:last-child { background: linear-gradient(90deg,var(--gd-300),transparent); }
.s-orn-icon { color: var(--gd-400); font-size: 13px; }

/* Dark section overrides */
.dark-head .s-label { color: var(--gd-300); }
.dark-head .s-title { color: var(--cr-100); }
.dark-head .s-orn-line { background: linear-gradient(90deg,transparent,rgba(253,211,73,.4)); }
.dark-head .s-orn-line:last-child { background: linear-gradient(90deg,rgba(253,211,73,.4),transparent); }
.dark-head .s-orn-icon { color: var(--gd-300); }

/* ════════════════════════════════════════════════════════
   HERO
════════════════════════════════════════════════════════ */
#hero { min-height: 100svh; position: relative; overflow: hidden; display: flex; align-items: center; justify-content: center; text-align: center; padding: 0; }

.h-bg {
  position: absolute; inset: 0;
  background: url('https://images.unsplash.com/photo-1519225421980-715cb0215aed?w=1920&q=85') center/cover no-repeat;
  transform: scale(1.07);
  animation: kBurns 18s cubic-bezier(0,0,.2,1) forwards;
  will-change: transform;
}
@keyframes kBurns { to { transform: scale(1); } }

.h-veil {
  position: absolute; inset: 0;
  background:
    linear-gradient(to bottom,rgba(4,43,26,.75) 0%,rgba(4,43,26,.25) 28%,rgba(4,43,26,.15) 55%,rgba(4,43,26,.72) 100%),
    linear-gradient(to right,rgba(4,43,26,.28) 0%,transparent 30%,transparent 70%,rgba(4,43,26,.28) 100%);
}

.h-arch { position: absolute; bottom: -1px; left: 0; right: 0; height: 90px; pointer-events: none; background: var(--bg); clip-path: ellipse(55% 100% at 50% 100%); }

.h-body { position: relative; z-index: 3; display: flex; flex-direction: column; align-items: center; padding: 100px 24px 130px; width: 100%; }

.h-eyebrow { font-family: 'Cinzel', serif; font-size: clamp(.58rem,1.3vw,.72rem); letter-spacing: 11px; text-transform: uppercase; color: rgba(245,158,11,.9); margin-bottom: 22px; opacity: 0; transform: translateY(14px); animation: hUp .9s var(--ease-out) .3s forwards; }
.h-names { font-family: 'Cormorant Upright', serif; font-size: clamp(3.2rem,9.5vw,9rem); font-weight: 300; line-height: .95; color: #fff; letter-spacing: 4px; text-shadow: 0 4px 40px rgba(0,0,0,.42); opacity: 0; transform: translateY(26px); animation: hUp 1.2s var(--ease-out) .6s forwards; }
.h-amp { display: block; font-family: 'Cormorant Garamond', serif; font-style: italic; font-size: .37em; color: rgba(253,211,73,.95); margin: 7px 0; font-weight: 300; }
.h-tag { font-family: 'Cormorant Garamond', serif; font-style: italic; font-size: clamp(.95rem,2.2vw,1.42rem); color: rgba(255,253,240,.7); letter-spacing: 2px; margin-top: 18px; max-width: 560px; opacity: 0; animation: hUp .9s var(--ease-out) 1.1s forwards; }
.h-rule { display: flex; align-items: center; gap: 14px; margin: 30px auto; opacity: 0; animation: hUp .9s var(--ease-out) 1.35s forwards; }
.h-rule::before,.h-rule::after { content: ''; width: 84px; height: 1px; background: linear-gradient(90deg,transparent,rgba(245,158,11,.75)); }
.h-rule::after { background: linear-gradient(90deg,rgba(245,158,11,.75),transparent); }
.h-diamond { width: 10px; height: 10px; background: var(--gd-300); transform: rotate(45deg); flex-shrink: 0; box-shadow: 0 0 16px rgba(245,158,11,.75); }
.h-meta { opacity: 0; animation: hUp .9s var(--ease-out) 1.6s forwards; }
.h-date { font-family: 'Cinzel', serif; font-size: clamp(.82rem,2vw,1.14rem); color: rgba(253,211,73,.95); letter-spacing: 7px; text-shadow: 0 1px 14px rgba(0,0,0,.4); }
.h-venue { font-family: 'Cormorant Garamond', serif; font-size: clamp(.85rem,1.8vw,1.06rem); color: rgba(255,253,240,.68); letter-spacing: 3px; margin-top: 7px; text-shadow: 0 1px 8px rgba(0,0,0,.3); }
.h-cta { margin-top: 38px; display: flex; gap: 16px; flex-wrap: wrap; justify-content: center; opacity: 0; animation: hUp .9s var(--ease-out) 1.85s forwards; }

.btn-em { display: inline-flex; align-items: center; gap: 10px; padding: 14px 44px; font-family: 'Cinzel', serif; font-size: clamp(.58rem,1.3vw,.72rem); letter-spacing: 5px; text-transform: uppercase; color: var(--em-900); background: linear-gradient(135deg,var(--gd-300),var(--gd-200),var(--gd-300)); background-size: 200% 200%; border: none; border-radius: 60px; box-shadow: var(--shadow-gd), inset 0 1px 0 rgba(255,255,255,.55); transition: all .4s var(--ease-out); cursor: pointer; text-decoration: none; }
.btn-em:hover { background-position: right center; transform: translateY(-2px); box-shadow: 0 8px 32px rgba(245,158,11,.5); }
.btn-em svg { width: 14px; height: 14px; stroke: currentColor; fill: none; stroke-width: 1.9; }
.btn-ghost { display: inline-flex; align-items: center; gap: 10px; padding: 13px 42px; font-family: 'Cinzel', serif; font-size: clamp(.58rem,1.3vw,.72rem); letter-spacing: 5px; text-transform: uppercase; color: rgba(255,253,240,.9); background: rgba(255,255,255,.09); border: 1px solid rgba(255,255,255,.32); border-radius: 60px; backdrop-filter: blur(14px); transition: all .4s var(--ease-out); cursor: pointer; text-decoration: none; }
.btn-ghost:hover { background: rgba(255,255,255,.16); border-color: rgba(245,158,11,.65); color: #fff; transform: translateY(-2px); }
.btn-ghost svg { width: 14px; height: 14px; stroke: currentColor; fill: none; stroke-width: 1.9; }

.h-scroll { position: absolute; bottom: clamp(96px,12vw,114px); left: 0; right: 0; display: flex; flex-direction: column; align-items: center; gap: 8px; opacity: 0; animation: hUp .9s ease 2.3s forwards; z-index: 4; pointer-events: none; }
.sc-mouse { width: 22px; height: 34px; border: 1.5px solid rgba(245,158,11,.5); border-radius: 11px; display: flex; align-items: flex-start; justify-content: center; padding-top: 6px; }
.sc-dot { width: 3px; height: 7px; background: var(--gd-300); border-radius: 2px; animation: scDot 2s ease-in-out infinite; }
@keyframes scDot { 0% { transform: translateY(0); opacity: 1; } 65% { transform: translateY(9px); opacity: 0; } 66% { transform: translateY(0); opacity: 0; } 100% { opacity: 1; } }
.sc-txt { font-family: 'Cinzel', serif; font-size: .42rem; letter-spacing: 3px; text-transform: uppercase; color: rgba(245,158,11,.6); }
@keyframes hUp { from { opacity: 0; transform: translateY(18px); } to { opacity: 1; transform: translateY(0); } }

/* ════════════════════════════════════════════════════════
   EVENTS
════════════════════════════════════════════════════════ */
#events { background: linear-gradient(180deg,var(--bg) 0%,var(--cr-100) 100%); }
.ev-grid { display: grid; grid-template-columns: repeat(3,1fr); gap: 22px; }
@media(max-width:960px){ .ev-grid { grid-template-columns: repeat(2,1fr); } }
@media(max-width:560px){ .ev-grid { grid-template-columns: 1fr; gap: 16px; } }
.ev-card { position: relative; overflow: hidden; background: rgba(255,253,247,.92); border: 1px solid rgba(6,78,59,.08); border-radius: var(--r-lg); padding: clamp(28px,3.5vw,40px) clamp(22px,2.8vw,32px); backdrop-filter: blur(16px); box-shadow: var(--shadow-sm); transition: transform .45s var(--ease-out), box-shadow .45s var(--ease-out), border-color .35s; }
.ev-card::before { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 3px; background: linear-gradient(90deg,var(--em-700),var(--gd-400),var(--em-600)); transform: scaleX(0); transform-origin: left; transition: transform .5s var(--ease-out); }
.ev-card:hover::before { transform: scaleX(1); }
.ev-card:hover { transform: translateY(-8px); box-shadow: var(--shadow-lg); border-color: rgba(6,78,59,.15); }
.ev-num { position: absolute; top: 24px; right: 24px; font-family: 'Cormorant Upright', serif; font-size: 3.5rem; font-weight: 300; color: rgba(6,78,59,.07); line-height: 1; user-select: none; }
.ev-ico { width: 48px; height: 48px; border-radius: var(--r-md); background: linear-gradient(135deg,var(--em-50),var(--em-100)); border: 1px solid rgba(6,78,59,.12); display: flex; align-items: center; justify-content: center; margin-bottom: 20px; transition: all .35s var(--ease-out); }
.ev-card:hover .ev-ico { background: linear-gradient(135deg,var(--em-800),var(--em-700)); border-color: transparent; box-shadow: 0 4px 16px rgba(6,78,59,.35); }
.ev-ico svg { width: 20px; height: 20px; stroke: var(--em-700); fill: none; stroke-width: 1.6; stroke-linecap: round; stroke-linejoin: round; transition: stroke .35s; }
.ev-card:hover .ev-ico svg { stroke: var(--cr-100); }
.ev-name { font-family: 'Cormorant Upright', serif; font-weight: 500; font-size: clamp(1rem,1.8vw,1.22rem); color: var(--em-900); letter-spacing: 1px; margin-bottom: 18px; }
.ev-row { display: flex; align-items: flex-start; gap: 10px; margin-bottom: 10px; }
.ev-row svg { width: 13px; height: 13px; flex-shrink: 0; margin-top: 3px; stroke: var(--em-600); fill: none; stroke-width: 1.6; stroke-linecap: round; stroke-linejoin: round; opacity: .7; }
.ev-row span { font-family: 'Cormorant Garamond', serif; font-size: clamp(.88rem,1.4vw,1rem); color: var(--txt-3); line-height: 1.55; font-weight: 300; }
.ev-dress { display: inline-flex; align-items: center; gap: 7px; margin-top: 18px; padding: 5px 14px; border: 1px solid rgba(245,158,11,.3); border-radius: 30px; background: linear-gradient(90deg,rgba(245,158,11,.06),rgba(6,78,59,.03)); }
.ev-dress svg { width: 10px; height: 10px; stroke: var(--gd-500); fill: none; stroke-width: 1.5; }
.ev-dress span { font-size: .58rem; letter-spacing: 2.5px; text-transform: uppercase; color: var(--gd-700); font-family: 'Cinzel', serif; }

/* ════════════════════════════════════════════════════════
   GALLERY
════════════════════════════════════════════════════════ */
#gallery { background: var(--em-900); overflow: hidden; }
.gal-header { padding: clamp(80px,10vw,128px) clamp(24px,5vw,80px) 0; }
.gal-grid {
  display: grid;
  grid-template-columns: repeat(12,1fr);
  grid-template-rows: 260px 260px 300px;
  gap: 6px;
  padding: clamp(44px,5.5vw,68px) 6px 6px;
}
.gc:nth-child(1) { grid-column: 1/8; grid-row: 1/3; }
.gc:nth-child(2) { grid-column: 8/10; grid-row: 1; }
.gc:nth-child(3) { grid-column: 10/13; grid-row: 1; }
.gc:nth-child(4) { grid-column: 8/10; grid-row: 2; }
.gc:nth-child(5) { grid-column: 10/13; grid-row: 2; }
.gc:nth-child(6) { grid-column: 1/5; grid-row: 3; }
.gc:nth-child(7) { grid-column: 5/9; grid-row: 3; }
.gc:nth-child(8) { grid-column: 9/13; grid-row: 3; }

.gc { position: relative; overflow: hidden; cursor: pointer; background: var(--em-800); border-radius: 4px; }
.gc img { width: 100%; height: 100%; object-fit: cover; filter: brightness(.78) saturate(.7) contrast(1.05); transition: transform .9s var(--ease-out), filter .65s ease; transform-origin: center; }
.gc:hover img { transform: scale(1.1); filter: brightness(.95) saturate(1.05) contrast(1.0); }
.gc-ov { position: absolute; inset: 0; background: linear-gradient(160deg,transparent 30%,rgba(4,43,26,.65) 100%); opacity: 0; transition: opacity .5s ease; }
.gc:hover .gc-ov { opacity: 1; }
.gc::after { content: ''; position: absolute; inset: 0; background: linear-gradient(105deg,transparent 30%,rgba(245,158,11,.08) 50%,transparent 70%); transform: translateX(-100%); transition: transform .7s ease; pointer-events: none; }
.gc:hover::after { transform: translateX(100%); }
.gc::before { content: ''; position: absolute; inset: 0; border: 1.5px solid rgba(245,158,11,.0); border-radius: 4px; z-index: 3; transition: border-color .5s ease; pointer-events: none; }
.gc:hover::before { border-color: rgba(245,158,11,.45); }
.gc-btn { position: absolute; bottom: 16px; right: 16px; z-index: 4; width: 38px; height: 38px; border-radius: 50%; background: rgba(253,211,73,.12); border: 1px solid rgba(253,211,73,.55); display: flex; align-items: center; justify-content: center; transform: scale(.35) rotate(-20deg) translateY(8px); transition: transform .4s var(--ease-spring), background .35s, box-shadow .35s; backdrop-filter: blur(10px); }
.gc-btn svg { width: 14px; height: 14px; stroke: var(--gd-200); fill: none; stroke-width: 2; }
.gc:hover .gc-btn { transform: scale(1) rotate(0deg) translateY(0); background: rgba(253,211,73,.2); box-shadow: 0 4px 16px rgba(245,158,11,.3); }
.gc-cap { position: absolute; bottom: 0; left: 0; right: 0; padding: 20px 18px 16px; z-index: 4; background: linear-gradient(to top,rgba(4,43,26,.88) 0%,transparent 100%); transform: translateY(100%); transition: transform .45s var(--ease-out), opacity .45s; opacity: 0; }
.gc:hover .gc-cap { opacity: 1; transform: translateY(0); }
.gc-title { font-family: 'Cormorant Upright', serif; font-size: clamp(.9rem,1.6vw,1.05rem); color: var(--cr-100); font-weight: 300; letter-spacing: 1px; }
.gc-sub { font-family: 'Cormorant Garamond', serif; font-style: italic; font-size: .78rem; color: var(--gd-200); margin-top: 3px; letter-spacing: 2px; }
.gc-badge { position: absolute; top: 12px; left: 12px; z-index: 4; background: rgba(4,43,26,.6); border: 1px solid rgba(245,158,11,.3); border-radius: 20px; padding: 4px 10px; backdrop-filter: blur(8px); opacity: 0; transform: translateY(-6px); transition: all .4s var(--ease-out); }
.gc:hover .gc-badge { opacity: 1; transform: translateY(0); }
.gc-badge span { font-family: 'Cinzel', serif; font-size: .52rem; letter-spacing: 2px; color: var(--gd-200); }

/* Lightbox */
#lb { position: fixed; inset: 0; background: rgba(4,43,26,.97); backdrop-filter: blur(24px); z-index: 8000; display: none; align-items: center; justify-content: center; padding: 24px; }
#lb.on { display: flex; }
#lb-inner { position: relative; max-width: min(94vw,1000px); animation: lbIn .48s var(--ease-out) both; }
@keyframes lbIn { from { transform: scale(.78) translateY(20px); opacity: 0; } to { transform: scale(1) translateY(0); opacity: 1; } }
#lb img { width: 100%; border-radius: var(--r-md); box-shadow: 0 0 80px rgba(245,158,11,.15), 0 40px 100px rgba(0,0,0,.6); display: block; }
.lb-cap { padding: 14px 6px 0; font-family: 'Cormorant Garamond', serif; font-style: italic; font-size: .9rem; letter-spacing: 3px; color: rgba(253,211,73,.7); text-align: center; }
#lb-x { position: absolute; top: -18px; right: -18px; width: 44px; height: 44px; border-radius: 50%; background: rgba(255,255,255,.07); border: 1px solid rgba(255,255,255,.2); display: flex; align-items: center; justify-content: center; cursor: pointer; transition: all .3s; z-index: 1; }
#lb-x svg { width: 15px; height: 15px; stroke: #fff; fill: none; stroke-width: 2; }
#lb-x:hover { background: rgba(245,158,11,.18); border-color: rgba(245,158,11,.6); transform: rotate(90deg) scale(1.1); }
.lb-arrow { position: absolute; top: 50%; width: 44px; height: 44px; border-radius: 50%; background: rgba(255,255,255,.07); border: 1px solid rgba(255,255,255,.18); display: flex; align-items: center; justify-content: center; cursor: pointer; transition: all .3s; transform: translateY(-50%); }
.lb-arrow:hover { background: rgba(245,158,11,.18); border-color: rgba(245,158,11,.5); }
.lb-arrow svg { width: 16px; height: 16px; stroke: #fff; fill: none; stroke-width: 2; }
#lb-prev { left: -56px; }
#lb-next { right: -56px; }
@media(max-width:1100px) { #lb-prev { left: 8px; top: auto; bottom: -60px; transform: none; } #lb-next { right: 8px; top: auto; bottom: -60px; transform: none; } }

/* Gallery responsive */
@media(max-width:1100px) {
  .gal-grid { grid-template-columns: repeat(6,1fr); grid-template-rows: 200px 200px 220px; gap: 5px; }
  .gc:nth-child(1) { grid-column: 1/5; grid-row: 1/3; }
  .gc:nth-child(2) { grid-column: 5/7; grid-row: 1; }
  .gc:nth-child(3) { grid-column: 5/7; grid-row: 2; }
  .gc:nth-child(4) { grid-column: 1/3; grid-row: 3; }
  .gc:nth-child(5) { grid-column: 3/5; grid-row: 3; }
  .gc:nth-child(6) { grid-column: 5/7; grid-row: 3; }
  .gc:nth-child(7) { display: none; }
  .gc:nth-child(8) { display: none; }
}
@media(max-width:640px) {
  .gal-grid { grid-template-columns: 1fr 1fr; grid-template-rows: repeat(4,180px); gap: 4px; }
  .gc:nth-child(1) { grid-column: 1/3; grid-row: 1; }
  .gc:nth-child(2) { grid-column: 1; grid-row: 2; }
  .gc:nth-child(3) { grid-column: 2; grid-row: 2; }
  .gc:nth-child(4) { grid-column: 1; grid-row: 3; }
  .gc:nth-child(5) { grid-column: 2; grid-row: 3; }
  .gc:nth-child(6) { grid-column: 1/3; grid-row: 4; }
  .gc:nth-child(7) { display: none; }
  .gc:nth-child(8) { display: none; }
}

/* ════════════════════════════════════════════════════════
   STORY TIMELINE
════════════════════════════════════════════════════════ */
#story { background: linear-gradient(180deg,var(--cr-100) 0%,var(--bg) 100%); }
.tl-wrap { position: relative; max-width: 860px; margin: 0 auto; padding: 0 16px; }
.tl-wrap::before { content: ''; position: absolute; left: 50%; top: 0; bottom: 0; width: 1px; transform: translateX(-50%); background: linear-gradient(to bottom,transparent,var(--em-200) 5%,var(--em-400) 25%,var(--em-700) 50%,var(--em-400) 75%,var(--em-200) 95%,transparent); opacity: .6; }
.tl-row { display: grid; grid-template-columns: 1fr 72px 1fr; align-items: center; margin-bottom: 56px; }
.tl-row:last-child { margin-bottom: 0; }
.tl-row:nth-child(odd) .tl-card { grid-column: 1; text-align: right; }
.tl-row:nth-child(even) .tl-card { grid-column: 3; text-align: left; }
.tl-row:nth-child(odd) .tl-void { grid-column: 3; }
.tl-row:nth-child(even) .tl-void { grid-column: 1; }
.tl-node { grid-column: 2; display: flex; align-items: center; justify-content: center; position: relative; z-index: 2; }
.tl-card { background: rgba(255,253,247,.92); border: 1px solid rgba(6,78,59,.08); border-radius: var(--r-md); padding: clamp(18px,2.5vw,26px) clamp(16px,2.2vw,24px); backdrop-filter: blur(12px); box-shadow: var(--shadow-sm); transition: box-shadow .35s, border-color .35s, transform .35s; }
.tl-card:hover { box-shadow: var(--shadow-md); border-color: rgba(6,78,59,.16); transform: scale(1.018); }
.tl-dot { width: 52px; height: 52px; border-radius: 50%; background: linear-gradient(135deg,var(--bg),var(--cr-200)); border: 1.5px solid rgba(6,78,59,.2); display: flex; align-items: center; justify-content: center; box-shadow: 0 0 0 6px rgba(6,78,59,.06), var(--shadow-sm); transition: all .4s var(--ease-out); }
.tl-row:hover .tl-dot { background: linear-gradient(135deg,var(--em-800),var(--em-700)); border-color: var(--em-600); box-shadow: 0 0 0 10px rgba(6,78,59,.09), 0 4px 20px rgba(6,78,59,.32); }
.tl-dot svg { width: 18px; height: 18px; stroke: var(--em-700); fill: none; stroke-width: 1.5; stroke-linecap: round; stroke-linejoin: round; transition: stroke .4s; }
.tl-row:hover .tl-dot svg { stroke: var(--cr-100); }
.tl-yr { font-family: 'Cinzel', serif; font-size: .62rem; letter-spacing: 4px; color: var(--gd-600); text-transform: uppercase; margin-bottom: 7px; }
.tl-h { font-family: 'Cormorant Upright', serif; font-size: clamp(.95rem,1.6vw,1.16rem); font-weight: 500; color: var(--em-900); margin-bottom: 9px; line-height: 1.3; }
.tl-p { font-family: 'Cormorant Garamond', serif; font-size: clamp(.86rem,1.35vw,.97rem); line-height: 1.85; color: var(--txt-3); font-weight: 300; }

/* ════════════════════════════════════════════════════════
   COUNTDOWN
════════════════════════════════════════════════════════ */
#countdown { position: relative; overflow: hidden; background: linear-gradient(135deg,var(--em-900) 0%,var(--em-800) 50%,var(--txt-1) 100%); text-align: center; }
#countdown::before { content: ''; position: absolute; inset: 0; pointer-events: none; background-image: linear-gradient(rgba(245,158,11,.04) 1px,transparent 1px), linear-gradient(90deg,rgba(245,158,11,.04) 1px,transparent 1px); background-size: 44px 44px; }
.cd-bloom { position: absolute; width: 640px; height: 640px; background: radial-gradient(circle,rgba(245,158,11,.09) 0%,rgba(6,78,59,.04) 45%,transparent 70%); left: 50%; top: 50%; transform: translate(-50%,-50%); pointer-events: none; animation: cdBloom 6s ease-in-out infinite alternate; }
@keyframes cdBloom { to { transform: translate(-50%,-50%) scale(1.65); opacity: .45; } }
.cd-wrap { display: flex; align-items: center; justify-content: center; gap: clamp(8px,2vw,20px); flex-wrap: nowrap; position: relative; }
.cd-block { flex: 0 0 auto; width: clamp(82px,14vw,128px); padding: clamp(22px,3vw,32px) 0 clamp(18px,2.2vw,24px); background: rgba(255,255,255,.04); border: 1px solid rgba(245,158,11,.18); border-radius: var(--r-lg); backdrop-filter: blur(20px); display: flex; flex-direction: column; align-items: center; justify-content: center; position: relative; overflow: hidden; transition: border-color .4s, box-shadow .4s; }
.cd-block:hover { border-color: rgba(245,158,11,.5); box-shadow: 0 0 32px rgba(245,158,11,.12); }
.cd-block::before { content: ''; position: absolute; top: 0; left: 16px; right: 16px; height: 1px; background: linear-gradient(90deg,transparent,rgba(245,158,11,.55),transparent); }
.cd-colon { font-family: 'Cormorant Upright', serif; font-weight: 300; font-size: clamp(2rem,4vw,3rem); color: rgba(245,158,11,.25); line-height: 1; flex-shrink: 0; align-self: center; padding-bottom: 24px; }
.cd-num { font-family: 'Cormorant Upright', serif; font-weight: 300; font-size: clamp(2.4rem,5.5vw,4.2rem); line-height: 1; color: var(--gd-200); letter-spacing: 2px; transition: transform .2s var(--ease-spring); }
.cd-num.tick { transform: scale(1.12); }
.cd-lbl { font-family: 'Cinzel', serif; font-size: .48rem; letter-spacing: 4px; text-transform: uppercase; color: rgba(167,243,208,.5); margin-top: 10px; }

/* ════════════════════════════════════════════════════════
   RSVP
════════════════════════════════════════════════════════ */
#rsvp { background: linear-gradient(180deg,var(--bg) 0%,var(--cr-100) 100%); position: relative; overflow: hidden; }
#rsvp::before { content: ''; position: absolute; top: -80px; right: -80px; width: 320px; height: 320px; border-radius: 50%; background: radial-gradient(circle,rgba(6,78,59,.07) 0%,transparent 65%); pointer-events: none; }
.rsvp-card { max-width: 700px; margin: 0 auto; background: rgba(255,253,247,.95); border: 1px solid rgba(6,78,59,.1); border-radius: var(--r-xl); padding: clamp(40px,5vw,64px) clamp(28px,4vw,56px); box-shadow: var(--shadow-xl); position: relative; overflow: hidden; text-align: center; }
.rsvp-card::before { content: ''; position: absolute; top: 0; left: 24px; right: 24px; height: 2px; background: linear-gradient(90deg,transparent,var(--gd-300),var(--gd-200),var(--gd-300),transparent); }
.rsvp-card p { font-family: 'Cormorant Garamond', serif; font-style: italic; font-size: clamp(.92rem,1.7vw,1.08rem); color: var(--txt-3); line-height: 1.8; margin-bottom: 32px; font-weight: 300; }
.rsvp-form { display: flex; flex-direction: column; gap: 16px; }
.rsvp-row { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }
@media(max-width:520px) { .rsvp-row { grid-template-columns: 1fr; } }
.rsvp-field label { display: block; font-family: 'Cinzel', serif; font-size: .58rem; letter-spacing: 3px; text-transform: uppercase; color: var(--txt-4); margin-bottom: 7px; }
.rsvp-field input,.rsvp-field select { width: 100%; padding: 14px 18px; font-family: 'Cormorant Garamond', serif; font-size: 1rem; color: var(--txt-2); background: rgba(255,253,247,.9); border: 1px solid rgba(6,78,59,.15); border-radius: var(--r-sm); outline: none; transition: border-color .3s, box-shadow .3s; -webkit-appearance: none; appearance: none; }
.rsvp-field input::placeholder { color: var(--txt-6); font-style: italic; }
.rsvp-field input:focus,.rsvp-field select:focus { border-color: var(--em-600); box-shadow: 0 0 0 3px rgba(6,78,59,.08); }
.rsvp-submit { margin-top: 8px; padding: 15px; font-family: 'Cinzel', serif; font-size: .68rem; letter-spacing: 5px; text-transform: uppercase; color: var(--cr-50); background: linear-gradient(135deg,var(--em-800),var(--em-700)); border: none; border-radius: var(--r-sm); box-shadow: var(--shadow-md); cursor: pointer; transition: all .4s var(--ease-out); position: relative; overflow: hidden; }
.rsvp-submit::after { content: ''; position: absolute; inset: 0; background: linear-gradient(135deg,rgba(245,158,11,.22),transparent 60%); opacity: 0; transition: opacity .4s; }
.rsvp-submit:hover { transform: translateY(-2px); box-shadow: var(--shadow-lg); }
.rsvp-submit:hover::after { opacity: 1; }

/* ════════════════════════════════════════════════════════
   LOCATION
════════════════════════════════════════════════════════ */
#location { background: linear-gradient(180deg,var(--cr-100) 0%,var(--bg) 100%); }
.loc-grid { display: grid; grid-template-columns: 1.15fr 1fr; gap: clamp(28px,4vw,60px); align-items: center; }
@media(max-width:768px) { .loc-grid { grid-template-columns: 1fr; } }
.loc-map-wrap { border-radius: var(--r-lg); overflow: hidden; border: 1px solid rgba(6,78,59,.12); box-shadow: var(--shadow-xl); height: clamp(280px,38vw,440px); position: relative; }
.loc-map-wrap::after { content: ''; position: absolute; inset: 0; border-radius: inherit; box-shadow: inset 0 0 0 1px rgba(245,158,11,.15); pointer-events: none; z-index: 1; }
.loc-map-wrap iframe { width: 100%; height: 100%; border: none; display: block; }
.loc-details { display: flex; flex-direction: column; gap: 24px; }
.loc-badge { display: inline-flex; align-items: center; gap: 10px; padding: 8px 20px; background: linear-gradient(135deg,var(--em-50),var(--cr-100)); border: 1px solid rgba(6,78,59,.12); border-radius: var(--r-full); width: fit-content; }
.loc-badge svg { width: 14px; height: 14px; stroke: var(--em-700); fill: none; stroke-width: 1.6; }
.loc-badge span { font-family: 'Cinzel', serif; font-size: .6rem; letter-spacing: 3px; text-transform: uppercase; color: var(--em-800); }
.loc-name { font-family: 'Cormorant Upright', serif; font-size: clamp(1.2rem,2.4vw,1.8rem); font-weight: 400; color: var(--em-900); line-height: 1.25; letter-spacing: 1px; }
.loc-addr { font-family: 'Cormorant Garamond', serif; font-size: clamp(.9rem,1.5vw,1.05rem); line-height: 2; color: var(--txt-3); font-weight: 300; }
.loc-info-row { display: flex; flex-direction: column; gap: 10px; }
.loc-info-item { display: flex; align-items: center; gap: 12px; padding: 12px 16px; background: rgba(255,253,247,.8); border: 1px solid rgba(6,78,59,.07); border-radius: var(--r-sm); }
.loc-info-item svg { width: 14px; height: 14px; stroke: var(--em-600); fill: none; stroke-width: 1.6; flex-shrink: 0; }
.loc-info-item span { font-family: 'Cormorant Garamond', serif; font-size: .95rem; color: var(--txt-3); }
.btn-dir { display: inline-flex; align-items: center; gap: 10px; padding: 14px 38px; font-family: 'Cinzel', serif; font-size: .65rem; letter-spacing: 4px; text-transform: uppercase; color: var(--cr-50); background: linear-gradient(135deg,var(--em-800),var(--em-700)); border: none; border-radius: var(--r-full); box-shadow: var(--shadow-md); cursor: pointer; transition: all .4s var(--ease-out); width: fit-content; text-decoration: none; }
.btn-dir svg { width: 13px; height: 13px; stroke: currentColor; fill: none; stroke-width: 1.8; }
.btn-dir:hover { transform: translateY(-2px); box-shadow: var(--shadow-lg); }

/* ════════════════════════════════════════════════════════
   FOOTER
════════════════════════════════════════════════════════ */
footer { position: relative; z-index: 2; background: linear-gradient(160deg,var(--em-900) 0%,var(--em-800) 60%,var(--txt-1) 100%); text-align: center; padding: clamp(56px,7vw,88px) 24px clamp(80px,12vw,112px); overflow: hidden; }
footer::before { content: ''; position: absolute; inset: 0; pointer-events: none; background-image: linear-gradient(rgba(245,158,11,.03) 1px,transparent 1px), linear-gradient(90deg,rgba(245,158,11,.03) 1px,transparent 1px); background-size: 40px 40px; }
.ft-top { position: absolute; top: 0; left: 0; right: 0; height: 2px; background: linear-gradient(90deg,transparent,rgba(245,158,11,.65) 25%,rgba(212,175,55,.9) 50%,rgba(245,158,11,.65) 75%,transparent); }
.ft-orn { display: flex; align-items: center; justify-content: center; gap: 16px; margin-bottom: 24px; position: relative; z-index: 1; }
.ft-orn::before,.ft-orn::after { content: ''; flex: 1; max-width: 100px; height: 1px; background: linear-gradient(90deg,transparent,rgba(245,158,11,.4)); }
.ft-orn::after { background: linear-gradient(90deg,rgba(245,158,11,.4),transparent); }
.ft-orn svg { width: 16px; height: 16px; stroke: var(--gd-300); fill: none; stroke-width: 1.2; }
.ft-names { font-family: 'Cormorant Upright', serif; font-size: clamp(1.8rem,5vw,3.8rem); font-weight: 300; color: var(--cr-100); letter-spacing: 4px; position: relative; z-index: 1; text-shadow: 0 0 40px rgba(245,158,11,.15); }
.ft-amp { font-family: 'Cormorant Garamond', serif; font-style: italic; font-size: .52em; color: var(--gd-300); margin: 0 10px; font-weight: 300; }
.ft-date { font-family: 'Cormorant Garamond', serif; font-style: italic; font-size: clamp(.78rem,1.4vw,.9rem); letter-spacing: 6px; color: rgba(167,243,208,.5); margin-top: 10px; position: relative; z-index: 1; }
.ft-links { display: flex; align-items: center; justify-content: center; gap: 24px; margin-top: 28px; position: relative; z-index: 1; flex-wrap: wrap; }
.ft-link { font-family: 'Cinzel', serif; font-size: .55rem; letter-spacing: 4px; text-transform: uppercase; color: rgba(167,243,208,.38); transition: color .3s; }
.ft-link:hover { color: var(--gd-300); }

/* ════════════════════════════════════════════════════════
   RESPONSIVE — General
════════════════════════════════════════════════════════ */
@media(max-width:768px) {
  .tl-wrap::before { left: 26px; }
  .tl-row { grid-template-columns: 52px 1fr; gap: 0 12px; }
  .tl-row:nth-child(odd) .tl-card,.tl-row:nth-child(even) .tl-card { grid-column: 2; text-align: left; }
  .tl-node { grid-column: 1; grid-row: 1; align-self: flex-start; padding-top: 2px; }
  .tl-row:nth-child(odd) .tl-void,.tl-row:nth-child(even) .tl-void { display: none; }
  .tl-dot { width: 44px; height: 44px; }
  .tl-dot svg { width: 16px; height: 16px; }
}
@media(max-width:600px) {
  .np span { display: none; }
  .np { padding: 8px 10px; }
  .cd-wrap { gap: 5px; }
  .cd-colon { font-size: 1.4rem; }
  #lb-prev,#lb-next { width: 36px; height: 36px; }
  #lb-prev svg,#lb-next svg { width: 13px; height: 13px; }
}
@media(max-width:380px) { .np { padding: 7px 8px; } .np svg { width: 14px; height: 14px; } .nmusic { width: 30px; height: 30px; } }
</style>

</head>

<body class="locked">
<canvas id="particle-canvas"></canvas>
<canvas id="confetti-canvas"></canvas>

<!-- ══ LOADER ══ -->

<div id="loader">
  <div class="l-bot-bar"></div>

  <div class="lc lc-tl"><svg viewBox="0 0 68 68" fill="none"><path d="M2 66V2h64" stroke="rgba(245,158,11,0.45)" stroke-width="1"/><circle cx="2" cy="2" r="3.5" fill="rgba(245,158,11,0.65)"/><path d="M2 26 Q17 11 26 2" stroke="rgba(6,78,59,0.5)" stroke-width="1" fill="none"/><path d="M2 36 Q14 22 22 16 Q25 24 32 27 Q16 31 2 36Z" fill="rgba(6,78,59,0.13)"/></svg></div>
  <div class="lc lc-tr"><svg viewBox="0 0 68 68" fill="none"><path d="M2 66V2h64" stroke="rgba(245,158,11,0.45)" stroke-width="1"/><circle cx="2" cy="2" r="3.5" fill="rgba(245,158,11,0.65)"/><path d="M2 26 Q17 11 26 2" stroke="rgba(6,78,59,0.5)" stroke-width="1" fill="none"/><path d="M2 36 Q14 22 22 16 Q25 24 32 27 Q16 31 2 36Z" fill="rgba(6,78,59,0.13)"/></svg></div>
  <div class="lc lc-bl"><svg viewBox="0 0 68 68" fill="none"><path d="M2 66V2h64" stroke="rgba(245,158,11,0.45)" stroke-width="1"/><circle cx="2" cy="2" r="3.5" fill="rgba(245,158,11,0.65)"/><path d="M2 26 Q17 11 26 2" stroke="rgba(6,78,59,0.5)" stroke-width="1" fill="none"/><path d="M2 36 Q14 22 22 16 Q25 24 32 27 Q16 31 2 36Z" fill="rgba(6,78,59,0.13)"/></svg></div>
  <div class="lc lc-br"><svg viewBox="0 0 68 68" fill="none"><path d="M2 66V2h64" stroke="rgba(245,158,11,0.45)" stroke-width="1"/><circle cx="2" cy="2" r="3.5" fill="rgba(245,158,11,0.65)"/><path d="M2 26 Q17 11 26 2" stroke="rgba(6,78,59,0.5)" stroke-width="1" fill="none"/><path d="M2 36 Q14 22 22 16 Q25 24 32 27 Q16 31 2 36Z" fill="rgba(6,78,59,0.13)"/></svg></div>

  <div class="l-ring">
    <div class="r-halo"></div>
    <div class="r-orbit"></div>
    <div class="r-orbit2"></div>
    <div class="r-mask"></div>
    <div class="r-inner"></div>
    <div class="r-photo">
      <img src="https://images.unsplash.com/photo-1606216794074-735e91aa2c92?w=500&q=85" alt="Arjun & Kavya">
    </div>
    <div class="r-sparks" id="r-sparks"></div>
  </div>

  <div class="l-text">
    <div class="l-pre">You are cordially invited</div>
    <div class="l-names">Arjun <span class="l-amp">&</span> Kavya</div>
    <div class="l-sub">A Royal Celebration · Udaipur 2026</div>
  </div>

  <div class="l-div">
    <div class="l-div-line"></div>
    <div class="l-diamond"></div>
    <div class="l-div-line"></div>
  </div>

  <div class="l-cta">
    <div class="l-pulse"></div>
    <div class="l-pulse"></div>
    <button class="l-btn" id="open-btn">
      <svg viewBox="0 0 24 24"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>
      Open Invitation
    </button>
  </div>

  <div class="l-date">21 · 02 · 2026 &nbsp;·&nbsp; The Oberoi Udaivilas, Udaipur</div>
</div>

<!-- ══ BOTTOM NAV ══ -->

<nav id="bnav">
  <a class="np on" href="#hero" data-s="hero"><svg viewBox="0 0 24 24"><path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg><span>Home</span></a>
  <a class="np" href="#events" data-s="events"><svg viewBox="0 0 24 24"><rect x="3" y="4" width="18" height="18" rx="2"/><line x1="3" y1="10" x2="21" y2="10"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/></svg><span>Events</span></a>
  <a class="np" href="#gallery" data-s="gallery"><svg viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" rx="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/></svg><span>Gallery</span></a>
  <a class="np" href="#story" data-s="story"><svg viewBox="0 0 24 24"><path d="M20.84 4.61a5.5 5.5 0 00-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 00-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 000-7.78z"/></svg><span>Story</span></a>
  <a class="np" href="#rsvp" data-s="rsvp"><svg viewBox="0 0 24 24"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg><span>RSVP</span></a>
  <a class="np" href="#location" data-s="location"><svg viewBox="0 0 24 24"><path d="M21 10c0 7-9 13-9 13S3 17 3 10a9 9 0 0118 0z"/><circle cx="12" cy="10" r="3"/></svg><span>Venue</span></a>
  <div class="nsep"></div>
  <button class="nmusic" id="mbtn" aria-label="Toggle music">
    <svg id="m-off" viewBox="0 0 24 24"><path d="M9 18V5l12-2v13"/><circle cx="6" cy="18" r="3"/><circle cx="18" cy="16" r="3"/></svg>
    <svg id="m-on" style="display:none" viewBox="0 0 24 24"><path d="M9 18V5l12-2v13"/><circle cx="6" cy="18" r="3"/><circle cx="18" cy="16" r="3"/><line x1="2" y1="2" x2="22" y2="22" stroke-width="2"/></svg>
  </button>
</nav>

<!-- ══ HERO ══ -->

<section id="hero">
  <div class="h-bg"></div>
  <div class="h-veil"></div>
  <div class="h-body">
    <div class="h-eyebrow">Arjun &nbsp;✦&nbsp; Kavya &nbsp;·&nbsp; 2026</div>
    <h1 class="h-names">Arjun<span class="h-amp">&</span>Kavya</h1>
    <p class="h-tag">"Two hearts, one destiny — a love worthy of royalty"</p>
    <div class="h-rule"><div class="h-diamond"></div></div>
    <div class="h-meta">
      <div class="h-date">Saturday &nbsp;·&nbsp; 21st February 2026</div>
      <div class="h-venue">The Oberoi Udaivilas &nbsp;·&nbsp; Udaipur, Rajasthan</div>
    </div>
    <div class="h-cta">
      <a href="#events" class="btn-em"><svg viewBox="0 0 24 24"><rect x="3" y="4" width="18" height="18" rx="2"/><line x1="3" y1="10" x2="21" y2="10"/></svg>View Events</a>
      <a href="#rsvp" class="btn-ghost"><svg viewBox="0 0 24 24"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>RSVP Now</a>
    </div>
  </div>
  <div class="h-scroll"><div class="sc-mouse"><div class="sc-dot"></div></div><span class="sc-txt">Explore</span></div>
  <div class="h-arch"></div>
</section>

<!-- ══ EVENTS ══ -->

<section id="events" class="sec">
  <div class="sec-inner">
    <div class="s-head">
      <div class="s-label reveal">Join Our Celebrations</div>
      <h2 class="s-title reveal d1">Wedding <em>Events</em></h2>
      <div class="s-orn reveal d2"><div class="s-orn-line"></div><span class="s-orn-icon">✦</span><div class="s-orn-line"></div></div>
    </div>
    <div class="ev-grid">
      <div class="ev-card reveal d1"><div class="ev-num">01</div><div class="ev-ico"><svg viewBox="0 0 24 24"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg></div><div class="ev-name">Engagement Ceremony</div><div class="ev-row"><svg viewBox="0 0 24 24"><rect x="3" y="4" width="18" height="18" rx="2"/><line x1="3" y1="10" x2="21" y2="10"/></svg><span>Thursday, 19th February 2026</span></div><div class="ev-row"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg><span>6:00 PM onwards</span></div><div class="ev-row"><svg viewBox="0 0 24 24"><path d="M21 10c0 7-9 13-9 13S3 17 3 10a9 9 0 0118 0z"/><circle cx="12" cy="10" r="3"/></svg><span>The Grand Ballroom, Oberoi Udaivilas</span></div><div class="ev-dress"><svg viewBox="0 0 24 24"><path d="M20.84 4.61a5.5 5.5 0 00-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 00-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 000-7.78z"/></svg><span>Pastel Formals</span></div></div>
      <div class="ev-card reveal d2"><div class="ev-num">02</div><div class="ev-ico"><svg viewBox="0 0 24 24"><circle cx="12" cy="8" r="6"/><path d="M8 14l-4 7h16l-4-7"/></svg></div><div class="ev-name">Haldi Ceremony</div><div class="ev-row"><svg viewBox="0 0 24 24"><rect x="3" y="4" width="18" height="18" rx="2"/><line x1="3" y1="10" x2="21" y2="10"/></svg><span>Friday, 20th February 2026</span></div><div class="ev-row"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg><span>8:00 AM — Noon</span></div><div class="ev-row"><svg viewBox="0 0 24 24"><path d="M21 10c0 7-9 13-9 13S3 17 3 10a9 9 0 0118 0z"/><circle cx="12" cy="10" r="3"/></svg><span>Palace Garden Lawns, Udaivilas</span></div><div class="ev-dress"><svg viewBox="0 0 24 24"><path d="M20.84 4.61a5.5 5.5 0 00-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 00-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 000-7.78z"/></svg><span>Yellow &amp; White</span></div></div>
      <div class="ev-card reveal d3"><div class="ev-num">03</div><div class="ev-ico"><svg viewBox="0 0 24 24"><path d="M12 2l2.4 7.4H22l-6.2 4.5 2.4 7.4L12 17l-6.2 4.3 2.4-7.4L2 9.4h7.6z"/></svg></div><div class="ev-name">Mehendi Night</div><div class="ev-row"><svg viewBox="0 0 24 24"><rect x="3" y="4" width="18" height="18" rx="2"/><line x1="3" y1="10" x2="21" y2="10"/></svg><span>Friday, 20th February 2026</span></div><div class="ev-row"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg><span>2:00 PM — 8:00 PM</span></div><div class="ev-row"><svg viewBox="0 0 24 24"><path d="M21 10c0 7-9 13-9 13S3 17 3 10a9 9 0 0118 0z"/><circle cx="12" cy="10" r="3"/></svg><span>Royal Terrace, The Oberoi</span></div><div class="ev-dress"><svg viewBox="0 0 24 24"><path d="M20.84 4.61a5.5 5.5 0 00-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 00-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 000-7.78z"/></svg><span>Vibrant Ethnic</span></div></div>
      <div class="ev-card reveal d1"><div class="ev-num">04</div><div class="ev-ico"><svg viewBox="0 0 24 24"><path d="M9 18V5l12-2v13"/><circle cx="6" cy="18" r="3"/><circle cx="18" cy="16" r="3"/></svg></div><div class="ev-name">Sangeet Evening</div><div class="ev-row"><svg viewBox="0 0 24 24"><rect x="3" y="4" width="18" height="18" rx="2"/><line x1="3" y1="10" x2="21" y2="10"/></svg><span>Friday, 20th February 2026</span></div><div class="ev-row"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg><span>7:30 PM — Midnight</span></div><div class="ev-row"><svg viewBox="0 0 24 24"><path d="M21 10c0 7-9 13-9 13S3 17 3 10a9 9 0 0118 0z"/><circle cx="12" cy="10" r="3"/></svg><span>Shiv Niwas Palace, Udaipur</span></div><div class="ev-dress"><svg viewBox="0 0 24 24"><path d="M20.84 4.61a5.5 5.5 0 00-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 00-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 000-7.78z"/></svg><span>Cocktail Glamour</span></div></div>
      <div class="ev-card reveal d2"><div class="ev-num">05</div><div class="ev-ico"><svg viewBox="0 0 24 24"><path d="M20.84 4.61a5.5 5.5 0 00-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 00-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 000-7.78z"/></svg></div><div class="ev-name">The Wedding</div><div class="ev-row"><svg viewBox="0 0 24 24"><rect x="3" y="4" width="18" height="18" rx="2"/><line x1="3" y1="10" x2="21" y2="10"/></svg><span>Saturday, 21st February 2026</span></div><div class="ev-row"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg><span>11:00 AM — 3:00 PM</span></div><div class="ev-row"><svg viewBox="0 0 24 24"><path d="M21 10c0 7-9 13-9 13S3 17 3 10a9 9 0 0118 0z"/><circle cx="12" cy="10" r="3"/></svg><span>Grand Mandap, Oberoi Udaivilas</span></div><div class="ev-dress"><svg viewBox="0 0 24 24"><path d="M20.84 4.61a5.5 5.5 0 00-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 00-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 000-7.78z"/></svg><span>Traditional Ethnic</span></div></div>
      <div class="ev-card reveal d3"><div class="ev-num">06</div><div class="ev-ico"><svg viewBox="0 0 24 24"><path d="M8 3v3M16 3v3M3 10h18M4 4h16a1 1 0 011 1v15a1 1 0 01-1 1H4a1 1 0 01-1-1V5a1 1 0 011-1z"/><path d="M9 16l2 2 4-4"/></svg></div><div class="ev-name">Grand Reception</div><div class="ev-row"><svg viewBox="0 0 24 24"><rect x="3" y="4" width="18" height="18" rx="2"/><line x1="3" y1="10" x2="21" y2="10"/></svg><span>Saturday, 21st February 2026</span></div><div class="ev-row"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg><span>7:30 PM — Late Night</span></div><div class="ev-row"><svg viewBox="0 0 24 24"><path d="M21 10c0 7-9 13-9 13S3 17 3 10a9 9 0 0118 0z"/><circle cx="12" cy="10" r="3"/></svg><span>Crystal Ballroom, Oberoi Udaivilas</span></div><div class="ev-dress"><svg viewBox="0 0 24 24"><path d="M20.84 4.61a5.5 5.5 0 00-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 00-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 000-7.78z"/></svg><span>Black Tie Glamour</span></div></div>
    </div>
  </div>
</section>

<!-- ══ GALLERY ══ -->

<section id="gallery">
  <div class="gal-header">
    <div class="s-head dark-head" style="max-width:1200px;margin:0 auto">
      <div class="s-label reveal">Pre-Wedding Moments</div>
      <h2 class="s-title reveal d1">Our <em>Gallery</em></h2>
      <div class="s-orn reveal d2"><div class="s-orn-line"></div><span class="s-orn-icon">✦</span><div class="s-orn-line"></div></div>
    </div>
  </div>
  <div class="gal-grid reveal-s" id="gal-grid">
    <div class="gc" onclick="openLB('https://images.unsplash.com/photo-1519225421980-715cb0215aed?w=1920&q=90','A Moment of Forever')"><img src="https://images.unsplash.com/photo-1519225421980-715cb0215aed?w=900&q=82" alt="Wedding ceremony" loading="lazy"><div class="gc-ov"></div><div class="gc-badge"><span>01 / 08</span></div><div class="gc-btn"><svg viewBox="0 0 24 24"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/><line x1="11" y1="8" x2="11" y2="14"/><line x1="8" y1="11" x2="14" y2="11"/></svg></div><div class="gc-cap"><div class="gc-title">A Moment of Forever</div><div class="gc-sub">Ceremony · Udaipur</div></div></div>
    <div class="gc" onclick="openLB('https://images.unsplash.com/photo-1606216794074-735e91aa2c92?w=1400&q=90','Couple Portrait')"><img src="https://images.unsplash.com/photo-1606216794074-735e91aa2c92?w=700&q=80" alt="Couple portrait" loading="lazy"><div class="gc-ov"></div><div class="gc-badge"><span>02 / 08</span></div><div class="gc-btn"><svg viewBox="0 0 24 24"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/><line x1="11" y1="8" x2="11" y2="14"/><line x1="8" y1="11" x2="14" y2="11"/></svg></div><div class="gc-cap"><div class="gc-title">Couple Portrait</div></div></div>
    <div class="gc" onclick="openLB('https://images.unsplash.com/photo-1583939003579-730e3918a45a?w=1400&q=90','Together in Love')"><img src="https://images.unsplash.com/photo-1583939003579-730e3918a45a?w=700&q=80" alt="Together" loading="lazy"><div class="gc-ov"></div><div class="gc-badge"><span>03 / 08</span></div><div class="gc-btn"><svg viewBox="0 0 24 24"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/><line x1="11" y1="8" x2="11" y2="14"/><line x1="8" y1="11" x2="14" y2="11"/></svg></div><div class="gc-cap"><div class="gc-title">Together in Love</div></div></div>
    <div class="gc" onclick="openLB('https://images.unsplash.com/photo-1591604466107-ec97de577aff?w=1400&q=90','Wedding Blooms')"><img src="https://images.unsplash.com/photo-1591604466107-ec97de577aff?w=700&q=80" alt="Flowers" loading="lazy"><div class="gc-ov"></div><div class="gc-badge"><span>04 / 08</span></div><div class="gc-btn"><svg viewBox="0 0 24 24"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/><line x1="11" y1="8" x2="11" y2="14"/><line x1="8" y1="11" x2="14" y2="11"/></svg></div><div class="gc-cap"><div class="gc-title">Wedding Blooms</div></div></div>
    <div class="gc" onclick="openLB('https://images.unsplash.com/photo-1469371670807-013ccf25f16a?w=1400&q=90','Celebration')"><img src="https://images.unsplash.com/photo-1469371670807-013ccf25f16a?w=700&q=80" alt="Celebration" loading="lazy"><div class="gc-ov"></div><div class="gc-badge"><span>05 / 08</span></div><div class="gc-btn"><svg viewBox="0 0 24 24"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/><line x1="11" y1="8" x2="11" y2="14"/><line x1="8" y1="11" x2="14" y2="11"/></svg></div><div class="gc-cap"><div class="gc-title">Joyful Celebration</div></div></div>
    <div class="gc" onclick="openLB('https://images.unsplash.com/photo-1511285560929-80b456fea0bc?w=1400&q=90','Golden Hour')"><img src="https://images.unsplash.com/photo-1511285560929-80b456fea0bc?w=900&q=80" alt="Golden hour" loading="lazy"><div class="gc-ov"></div><div class="gc-badge"><span>06 / 08</span></div><div class="gc-btn"><svg viewBox="0 0 24 24"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/><line x1="11" y1="8" x2="11" y2="14"/><line x1="8" y1="11" x2="14" y2="11"/></svg></div><div class="gc-cap"><div class="gc-title">Dancing in Golden Hour</div><div class="gc-sub">Pre-wedding Shoot</div></div></div>
    <div class="gc" onclick="openLB('https://images.unsplash.com/photo-1519741497674-611481863552?w=1400&q=90','Royal Elegance')"><img src="https://images.unsplash.com/photo-1519741497674-611481863552?w=900&q=80" alt="Royal decor" loading="lazy"><div class="gc-ov"></div><div class="gc-badge"><span>07 / 08</span></div><div class="gc-btn"><svg viewBox="0 0 24 24"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/><line x1="11" y1="8" x2="11" y2="14"/><line x1="8" y1="11" x2="14" y2="11"/></svg></div><div class="gc-cap"><div class="gc-title">Royal Elegance</div><div class="gc-sub">Venue Decor · The Oberoi</div></div></div>
    <div class="gc" onclick="openLB('https://images.unsplash.com/photo-1583939411023-14783179e581?w=1400&q=90','Forever Begins')"><img src="https://images.unsplash.com/photo-1583939411023-14783179e581?w=900&q=80" alt="Forever" loading="lazy"><div class="gc-ov"></div><div class="gc-badge"><span>08 / 08</span></div><div class="gc-btn"><svg viewBox="0 0 24 24"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/><line x1="11" y1="8" x2="11" y2="14"/><line x1="8" y1="11" x2="14" y2="11"/></svg></div><div class="gc-cap"><div class="gc-title">Forever Begins</div><div class="gc-sub">21 · 02 · 2026</div></div></div>
  </div>
</section>

<!-- Lightbox -->

<div id="lb" role="dialog" aria-modal="true" aria-label="Photo viewer">
  <div id="lb-inner">
    <button id="lb-x" onclick="closeLB()" aria-label="Close"><svg viewBox="0 0 24 24"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg></button>
    <button class="lb-arrow" id="lb-prev" onclick="lbNav(-1)" aria-label="Previous"><svg viewBox="0 0 24 24"><polyline points="15 18 9 12 15 6"/></svg></button>
    <button class="lb-arrow" id="lb-next" onclick="lbNav(1)" aria-label="Next"><svg viewBox="0 0 24 24"><polyline points="9 18 15 12 9 6"/></svg></button>
    <img id="lb-img" src="" alt="Gallery photo">
    <div class="lb-cap" id="lb-cap"></div>
  </div>
</div>

<!-- ══ STORY ══ -->

<section id="story" class="sec">
  <div class="sec-inner">
    <div class="s-head"><div class="s-label reveal">How We Found Each Other</div><h2 class="s-title reveal d1">Our <em>Love Story</em></h2><div class="s-orn reveal d2"><div class="s-orn-line"></div><span class="s-orn-icon">✦</span><div class="s-orn-line"></div></div></div>
    <div class="tl-wrap">
      <div class="tl-row reveal"><div class="tl-card"><div class="tl-yr">2019 · Mumbai</div><div class="tl-h">The First Glance</div><p class="tl-p">A monsoon evening at a rooftop gallery. Arjun saw Kavya across the room and the world simply stopped. They talked until the city went quiet.</p></div><div class="tl-node"><div class="tl-dot"><svg viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg></div></div><div class="tl-void"></div></div>
      <div class="tl-row reveal d1"><div class="tl-void"></div><div class="tl-node"><div class="tl-dot"><svg viewBox="0 0 24 24"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg></div></div><div class="tl-card"><div class="tl-yr">2020 · Together</div><div class="tl-h">Falling Deeper</div><p class="tl-p">Through a global storm, midnight calls and handwritten letters sealed what the heart already knew. Distance only made them closer.</p></div></div>
      <div class="tl-row reveal d2"><div class="tl-card"><div class="tl-yr">2022 · Tuscany</div><div class="tl-h">Adventures Together</div><p class="tl-p">Rolling vineyards at golden hour. Over candlelight overlooking the Tuscan hills, the future finally felt inevitable and crystal clear.</p></div><div class="tl-node"><div class="tl-dot"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><line x1="2" y1="12" x2="22" y2="12"/><path d="M12 2a15.3 15.3 0 014 10 15.3 15.3 0 01-4 10 15.3 15.3 0 01-4-10 15.3 15.3 0 014-10z"/></svg></div></div><div class="tl-void"></div></div>
      <div class="tl-row reveal d1"><div class="tl-void"></div><div class="tl-node"><div class="tl-dot"><svg viewBox="0 0 24 24"><path d="M20.84 4.61a5.5 5.5 0 00-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 00-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 000-7.78z"/></svg></div></div><div class="tl-card"><div class="tl-yr">2024 · Jaipur</div><div class="tl-h">The Proposal</div><p class="tl-p">Beneath a thousand fairy lights at Amer Fort, Arjun dropped to one knee. Kavya's tearful yes echoed through the ancient walls.</p></div></div>
      <div class="tl-row reveal d2"><div class="tl-card"><div class="tl-yr">2026 · Udaipur</div><div class="tl-h">Our Wedding Day</div><p class="tl-p">With hearts full and families united, we write the most beautiful chapter — and we want you here to witness this royal celebration of love.</p></div><div class="tl-node"><div class="tl-dot"><svg viewBox="0 0 24 24"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg></div></div><div class="tl-void"></div></div>
    </div>
  </div>
</section>

<!-- ══ COUNTDOWN ══ -->

<section id="countdown" class="sec">
  <div class="cd-bloom"></div>
  <div class="sec-inner" style="position:relative;z-index:1">
    <div class="s-head dark-head"><div class="s-label reveal">Days Until Forever</div><h2 class="s-title reveal d1">Wedding <em>Countdown</em></h2><div class="s-orn reveal d2"><div class="s-orn-line"></div><span class="s-orn-icon">✦</span><div class="s-orn-line"></div></div></div>
    <div class="cd-wrap reveal" id="cd-wrap">
      <div class="cd-block"><div class="cd-num" id="cd-d">00</div><div class="cd-lbl">Days</div></div>
      <div class="cd-colon">:</div>
      <div class="cd-block"><div class="cd-num" id="cd-h">00</div><div class="cd-lbl">Hours</div></div>
      <div class="cd-colon">:</div>
      <div class="cd-block"><div class="cd-num" id="cd-m">00</div><div class="cd-lbl">Mins</div></div>
      <div class="cd-colon">:</div>
      <div class="cd-block"><div class="cd-num" id="cd-s">00</div><div class="cd-lbl">Secs</div></div>
    </div>
  </div>
</section>

<!-- ══ RSVP ══ -->

<section id="rsvp" class="sec">
  <div class="sec-inner">
    <div class="s-head"><div class="s-label reveal">Kindly Respond</div><h2 class="s-title reveal d1">RSVP <em>Invitation</em></h2><div class="s-orn reveal d2"><div class="s-orn-line"></div><span class="s-orn-icon">✦</span><div class="s-orn-line"></div></div></div>
    <div class="rsvp-card reveal-s">
      <p>We joyfully request the honour of your presence at our wedding celebration. Please confirm your attendance by <strong>1st February 2026</strong> so we may prepare to welcome you with all the warmth you deserve.</p>
      <form class="rsvp-form" onsubmit="handleRsvp(event)">
        <div class="rsvp-row"><div class="rsvp-field"><label>Your Name</label><input type="text" placeholder="Full name" required></div><div class="rsvp-field"><label>Email Address</label><input type="email" placeholder="your@email.com" required></div></div>
        <div class="rsvp-row"><div class="rsvp-field"><label>Attendance</label><select required><option value="">Select response</option><option value="yes">Joyfully Attending</option><option value="no">Regretfully Declining</option></select></div><div class="rsvp-field"><label>Number of Guests</label><select><option value="1">1 Guest</option><option value="2">2 Guests</option><option value="3">3 Guests</option><option value="4">4 Guests</option></select></div></div>
        <div class="rsvp-field"><label>Dietary Requirements <span style="opacity:.5;font-size:.8em">(optional)</span></label><input type="text" placeholder="Any dietary needs or allergies…"></div>
        <button type="submit" class="rsvp-submit">Confirm Attendance</button>
      </form>
    </div>
  </div>
</section>

<!-- ══ LOCATION ══ -->

<section id="location" class="sec">
  <div class="sec-inner">
    <div class="s-head"><div class="s-label reveal">Find Your Way</div><h2 class="s-title reveal d1">Venue &amp; <em>Location</em></h2><div class="s-orn reveal d2"><div class="s-orn-line"></div><span class="s-orn-icon">✦</span><div class="s-orn-line"></div></div></div>
    <div class="loc-grid">
      <div class="loc-map-wrap reveal-l" id="loc-map">
        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3628.0!2d73.6833!3d24.5854!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3967e7c19d4d49b5%3A0xdd5f0ac19b5dde73!2sUdaipur%2C%20Rajasthan!5e0!3m2!1sen!2sin!4v1234567890" allowfullscreen loading="lazy" referrerpolicy="no-referrer-when-downgrade" title="Venue location"></iframe>
      </div>
      <div class="loc-details reveal-r" id="loc-info">
        <div class="loc-badge"><svg viewBox="0 0 24 24"><path d="M21 10c0 7-9 13-9 13S3 17 3 10a9 9 0 0118 0z"/><circle cx="12" cy="10" r="3"/></svg><span>Wedding Venue</span></div>
        <div class="loc-name">The Oberoi Udaivilas</div>
        <div class="loc-addr">Haridasji Ki Magri<br>Udaipur, Rajasthan — 313 001<br>India</div>
        <div class="loc-info-row">
          <div class="loc-info-item"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg><span>Wedding: Saturday, 21 Feb · 11:00 AM</span></div>
          <div class="loc-info-item"><svg viewBox="0 0 24 24"><path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"/></svg><span>Nearest Airport: Maharana Pratap (UDR)</span></div>
          <div class="loc-info-item"><svg viewBox="0 0 24 24"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg><span>Hotel accommodation available on request</span></div>
        </div>
        <a href="https://www.google.com/maps/search/Oberoi+Udaivilas+Udaipur" target="_blank" rel="noopener noreferrer" class="btn-dir"><svg viewBox="0 0 24 24"><path d="M21 10c0 7-9 13-9 13S3 17 3 10a9 9 0 0118 0z"/><circle cx="12" cy="10" r="3"/></svg>Get Directions</a>
      </div>
    </div>
  </div>
</section>

<!-- ══ FOOTER ══ -->

<footer>
  <div class="ft-top"></div>
  <div class="ft-orn"><svg viewBox="0 0 24 24"><path d="M20.84 4.61a5.5 5.5 0 00-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 00-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 000-7.78z"/></svg></div>
  <div class="ft-names">Arjun <span class="ft-amp">&</span> Kavya</div>
  <div class="ft-date">21 · 02 · 2026 &nbsp;·&nbsp; Udaipur, Rajasthan</div>
  <div class="ft-links">
    <a href="#hero" class="ft-link">Home</a>
    <a href="#events" class="ft-link">Events</a>
    <a href="#gallery" class="ft-link">Gallery</a>
    <a href="#story" class="ft-link">Story</a>
    <a href="#rsvp" class="ft-link">RSVP</a>
    <a href="#location" class="ft-link">Venue</a>
  </div>
</footer>

<!-- ══ AUDIO ══ -->

<audio id="aud" preload="auto">
  <source src="elements/song.mp3" type="audio/mp3">
</audio>

<!-- ══ JAVASCRIPT ══ -->

<script>
'use strict';

/* ── Loader ring sparkle ── */
(function () {
  const wrap = document.getElementById('r-sparks');
  if (!wrap) return;
  const KF = `@keyframes sOrb{from{transform:rotate(var(--a)) translateX(var(--r)) scale(.25);opacity:0}10%{opacity:1}88%{opacity:.7}to{transform:rotate(calc(var(--a)+360deg)) translateX(var(--r)) scale(.25);opacity:0}}`;
  const s = document.createElement('style');
  s.textContent = KF;
  document.head.appendChild(s);
  const cols = ['rgba(245,158,11,.9)', 'rgba(253,211,73,.8)', 'rgba(6,78,59,.7)', 'rgba(52,211,153,.65)', 'rgba(212,175,55,.8)'];
  for (let i = 0; i < 14; i++) {
    const ang = (360 / 14) * i, r = 100 + Math.random() * 22, sz = 1.8 + Math.random() * 2;
    const col = cols[Math.floor(Math.random() * cols.length)];
    const el = document.createElement('div');
    el.style.cssText = `position:absolute;width:${sz}px;height:${sz}px;background:${col};border-radius:50%;top:50%;left:50%;transform-origin:0 0;--a:${ang}deg;--r:${r}px;animation:sOrb ${4 + Math.random() * 4}s linear ${-(Math.random() * 5)}s infinite`;
    wrap.appendChild(el);
  }
})();

/* ── Particle canvas ── */
const pCvs = document.getElementById('particle-canvas');
const pCtx = pCvs.getContext('2d');
let pW, pH, pts = [];
const PCOLS = ['rgba(52,211,153,V)', 'rgba(245,158,11,V)', 'rgba(6,78,59,V)', 'rgba(253,211,73,V)', 'rgba(212,175,55,V)'];

function initP() {
  pW = pCvs.width = window.innerWidth;
  pH = pCvs.height = window.innerHeight;
  pts = Array.from({ length: 55 }, () => ({
    x: Math.random() * pW, y: Math.random() * pH,
    r: .5 + Math.random() * 1.8,
    vx: (Math.random() - .5) * .18,
    vy: -(0.1 + Math.random() * .3),
    a: .08 + Math.random() * .38,
    col: PCOLS[Math.floor(Math.random() * PCOLS.length)]
  }));
}

function animP() {
  pCtx.clearRect(0, 0, pW, pH);
  for (const p of pts) {
    p.x += p.vx; p.y += p.vy;
    if (p.y < -5) { p.y = pH + 5; p.x = Math.random() * pW; }
    pCtx.beginPath();
    pCtx.arc(p.x, p.y, p.r, 0, Math.PI * 2);
    pCtx.fillStyle = p.col.replace('V', p.a);
    pCtx.fill();
  }
  requestAnimationFrame(animP);
}
window.addEventListener('resize', initP, { passive: true });
initP(); animP();

/* ── Confetti ── */
const cCvs = document.getElementById('confetti-canvas');
const cCtx = cCvs.getContext('2d');
const FALL_COLS = [
  '#F59E0B', '#FCD34D', '#FDE68A', '#E8C96B', '#C8A84B',
  '#065F46', '#047857', '#34D399', '#6EE7B7', '#A7F3D0',
  '#FFFFFF', '#FFF9ED', '#FAEAC1',
];
let fallPts = [], fallRaf = null, fallActive = false;

function spawnFall(W, H) {
  const x = Math.random() * W, size = 4 + Math.random() * 9, r = Math.random();
  return {
    x, y: -size - Math.random() * H * 0.35,
    vx: (Math.random() - 0.5) * 1.2,
    vy: 1.8 + Math.random() * 3.2,
    rot: Math.random() * 360,
    rs: (Math.random() - 0.5) * 5,
    wobbleAmp: 0.6 + Math.random() * 1.2,
    wobbleFreq: 0.025 + Math.random() * 0.04,
    wobbleOff: Math.random() * Math.PI * 2,
    w: size, h: size * (0.28 + Math.random() * 0.55),
    col: FALL_COLS[Math.floor(Math.random() * FALL_COLS.length)],
    alpha: 0,
    star: r > 0.82, petal: r > 0.72 && r <= 0.82,
    ribbon: r > 0.62 && r <= 0.72, circ: r > 0.44 && r <= 0.62,
    tick: 0,
  };
}

function drawFallStar(ctx, r) {
  const pts = 6, inner = r * 0.42;
  ctx.beginPath();
  for (let i = 0; i < pts * 2; i++) {
    const ang = (i * Math.PI) / pts - Math.PI / 2;
    const rad = i % 2 === 0 ? r : inner;
    i === 0 ? ctx.moveTo(Math.cos(ang) * rad, Math.sin(ang) * rad) : ctx.lineTo(Math.cos(ang) * rad, Math.sin(ang) * rad);
  }
  ctx.closePath(); ctx.fill();
}

function renderFall() {
  const W = cCvs.width, H = cCvs.height;
  cCtx.clearRect(0, 0, W, H);
  let alive = false;
  for (let i = 0; i < fallPts.length; i++) {
    const p = fallPts[i];
    p.tick++;
    p.x += p.vx + Math.sin(p.tick * p.wobbleFreq + p.wobbleOff) * p.wobbleAmp;
    p.y += p.vy; p.rot += p.rs;
    if (p.y < 60) p.alpha = Math.min(1, p.alpha + 0.06);
    else if (p.y > H * 0.82) p.alpha = Math.max(0, p.alpha - 0.03);
    else p.alpha = Math.min(1, p.alpha + 0.04);
    if (p.y > H + p.w || p.alpha <= 0) continue;
    alive = true;
    cCtx.save();
    cCtx.globalAlpha = p.alpha * 0.92;
    cCtx.translate(p.x, p.y);
    cCtx.rotate((p.rot * Math.PI) / 180);
    cCtx.fillStyle = p.col;
    if (p.star) {
      drawFallStar(cCtx, p.w * 0.55);
    } else if (p.petal) {
      cCtx.beginPath(); cCtx.ellipse(0, 0, p.w * 0.35, p.h * 1.1, 0, 0, Math.PI * 2); cCtx.fill();
    } else if (p.ribbon) {
      cCtx.beginPath(); cCtx.ellipse(0, 0, p.w * 0.22, p.h * 2.0, 0, 0, Math.PI * 2); cCtx.fill();
    } else if (p.circ) {
      cCtx.beginPath(); cCtx.arc(0, 0, p.w * 0.5, 0, Math.PI * 2); cCtx.fill();
    } else {
      if (cCtx.roundRect) cCtx.roundRect(-p.w * 0.5, -p.h * 0.5, p.w, p.h, p.h * 0.3);
      else cCtx.rect(-p.w * 0.5, -p.h * 0.5, p.w, p.h);
      cCtx.fill();
    }
    cCtx.restore();
  }
  if (!fallActive && !alive) { cCvs.style.display = 'none'; return; }
  fallRaf = requestAnimationFrame(renderFall);
}

function grandBurst() {
  const W = window.innerWidth, H = window.innerHeight;
  cCvs.width = W; cCvs.height = H;
  cCvs.style.display = 'block';
  fallPts = []; fallActive = true;
  if (fallRaf) cancelAnimationFrame(fallRaf);
  const TOTAL_PIECES = 420, SPAWN_DURATION = 4200;
  const PIECE_INTERVAL = SPAWN_DURATION / TOTAL_PIECES;
  let spawned = 0;
  const spawnTimer = setInterval(() => {
    if (spawned >= TOTAL_PIECES) { clearInterval(spawnTimer); fallActive = false; return; }
    const batch = 1 + Math.floor(Math.random() * 2);
    for (let b = 0; b < batch && spawned < TOTAL_PIECES; b++) { fallPts.push(spawnFall(W, H)); spawned++; }
  }, PIECE_INTERVAL);
  renderFall();
}

/* ── Music ── */
let mPlaying = false;
const aud = document.getElementById('aud');
aud.loop = true; aud.volume = 0.32;

function syncMusicUI() {
  document.getElementById('m-off').style.display = mPlaying ? 'none' : 'block';
  document.getElementById('m-on').style.display = mPlaying ? 'block' : 'none';
  document.getElementById('mbtn').classList.toggle('on', mPlaying);
}

document.getElementById('mbtn').addEventListener('click', function () {
  if (mPlaying) { aud.pause(); mPlaying = false; }
  else { aud.play().catch(() => {}); mPlaying = true; }
  syncMusicUI();
});

/* ── Open invitation ── */
let opened = false;
document.getElementById('open-btn').addEventListener('click', function () {
  if (opened) return;
  opened = true;
  this.disabled = true;
  this.style.opacity = '.55';
  aud.play().then(() => { mPlaying = true; syncMusicUI(); }).catch(() => { mPlaying = false; syncMusicUI(); });
  grandBurst();
  document.getElementById('loader').classList.add('exit');
  document.body.classList.remove('locked');
  setTimeout(() => document.getElementById('particle-canvas').classList.add('on'), 400);
  setTimeout(() => document.getElementById('bnav').classList.add('show'), 800);
});

/* ── Countdown ── */
const WD = new Date('2026-02-21T11:00:00');
function p2(n) { return String(Math.max(0, n)).padStart(2, '0'); }
let cdTimer;
function tick() {
  const d = WD - Date.now();
  if (d <= 0) {
    ['cd-d', 'cd-h', 'cd-m', 'cd-s'].forEach(id => document.getElementById(id).textContent = '00');
    const w = document.getElementById('cd-wrap');
    w.insertAdjacentHTML('afterend', '<p style="font-family:\'Cormorant Upright\',serif;font-size:clamp(1.2rem,2.5vw,1.8rem);font-weight:300;color:var(--gd-200);letter-spacing:4px;margin-top:28px;text-align:center;">Today is the Day! ✦</p>');
    clearInterval(cdTimer); return;
  }
  const vals = [Math.floor(d / 86400000), Math.floor(d % 86400000 / 3600000), Math.floor(d % 3600000 / 60000), Math.floor(d % 60000 / 1000)];
  ['cd-d', 'cd-h', 'cd-m', 'cd-s'].forEach((id, i) => {
    const el = document.getElementById(id), v = p2(vals[i]);
    if (el.textContent !== v) { el.textContent = v; el.classList.add('tick'); setTimeout(() => el.classList.remove('tick'), 250); }
  });
}
cdTimer = setInterval(tick, 1000); tick();

/* ── Reveal observer ── */
const revealIO = new IntersectionObserver(entries => {
  entries.forEach(e => { if (e.isIntersecting) { e.target.classList.add('in'); revealIO.unobserve(e.target); } });
}, { threshold: .08, rootMargin: '0px 0px -36px 0px' });
document.querySelectorAll('.reveal,.reveal-l,.reveal-r,.reveal-s').forEach(el => revealIO.observe(el));

/* ── Active nav ── */
const nps = document.querySelectorAll('.np[data-s]');
const sects = document.querySelectorAll('section[id]');
const navIO = new IntersectionObserver(entries => {
  entries.forEach(e => {
    if (e.isIntersecting) {
      nps.forEach(n => n.classList.remove('on'));
      const m = document.querySelector(`.np[data-s="${e.target.id}"]`);
      if (m) m.classList.add('on');
    }
  });
}, { threshold: .1, rootMargin: '0px 0px -10% 0px' });
sects.forEach(s => navIO.observe(s));

/* ── Smooth scroll ── */
document.querySelectorAll('a[href^="#"]').forEach(a => {
  a.addEventListener('click', e => {
    e.preventDefault();
    const t = document.querySelector(a.getAttribute('href'));
    if (t) window.scrollTo({ top: t.getBoundingClientRect().top + window.scrollY - 20, behavior: 'smooth' });
  });
});

/* ── Gallery lightbox ── */
const galItems = [];
document.querySelectorAll('.gc').forEach((gc) => {
  const oc = gc.getAttribute('onclick');
  if (oc) {
    const m = oc.match(/openLB\('([^']+)'(?:,'([^']*)'\))?/);
    if (m) galItems.push({ src: m[1], cap: m[2] || '' });
  }
});
let curLbIdx = 0;

function openLB(src, cap) {
  cap = cap || '';
  const idx = galItems.findIndex(g => g.src === src);
  curLbIdx = idx >= 0 ? idx : 0;
  const img = document.getElementById('lb-img');
  img.style.opacity = '1';
  img.src = src;
  document.getElementById('lb-cap').textContent = cap;
  document.getElementById('lb').classList.add('on');
  document.body.classList.add('locked');
}

function closeLB() {
  document.getElementById('lb').classList.remove('on');
  document.getElementById('lb-img').src = '';
  document.body.classList.remove('locked');
}

function lbNav(dir) {
  if (!galItems.length) return;
  curLbIdx = (curLbIdx + dir + galItems.length) % galItems.length;
  const g = galItems[curLbIdx];
  const img = document.getElementById('lb-img');
  img.style.opacity = '0';
  setTimeout(() => { img.src = g.src; img.style.opacity = '1'; document.getElementById('lb-cap').textContent = g.cap; }, 180);
}

document.getElementById('lb').addEventListener('click', e => { if (e.target === e.currentTarget) closeLB(); });
document.addEventListener('keydown', e => {
  if (e.key === 'Escape') closeLB();
  if (e.key === 'ArrowRight') lbNav(1);
  if (e.key === 'ArrowLeft') lbNav(-1);
});

/* ── RSVP ── */
function handleRsvp(e) {
  e.preventDefault();
  const btn = e.target.querySelector('.rsvp-submit');
  btn.textContent = 'Sending…';
  setTimeout(() => {
    btn.textContent = '✦ Response Received — Thank You!';
    btn.style.background = 'linear-gradient(135deg,#047857,#065F46)';
    e.target.reset();
  }, 1200);
}

/* ── Location reveal ── */
(function () {
  const io = new IntersectionObserver(entries => {
    entries.forEach(e => {
      if (e.isIntersecting) {
        document.getElementById('loc-map').classList.add('in');
        document.getElementById('loc-info').classList.add('in');
        io.disconnect();
      }
    });
  }, { threshold: .1 });
  const loc = document.getElementById('location');
  if (loc) io.observe(loc);
})();

/* ── Gallery reveal ── */
(function () {
  const io = new IntersectionObserver(entries => {
    entries.forEach(e => { if (e.isIntersecting) { e.target.classList.add('in'); io.disconnect(); } });
  }, { threshold: .05 });
  const g = document.getElementById('gal-grid');
  if (g) io.observe(g);
})();

/* ── Lightbox image transition ── */
document.getElementById('lb-img').style.transition = 'opacity .2s ease';
</script>

</body>
</html>